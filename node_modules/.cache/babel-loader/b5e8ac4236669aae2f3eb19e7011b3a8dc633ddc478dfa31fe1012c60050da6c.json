{"ast":null,"code":"// src/api/gameApi.js - CloudBox Game API Client\n\nconst API_BASE_URL = 'http://localhost:5000/api';\n\n/**\r\n * Fetches games from the CloudBox backend API\r\n */\nexport async function fetchGames(refresh = false, limit = null) {\n  try {\n    let url = `${API_BASE_URL}/games`;\n    const params = [];\n    if (refresh) params.push('refresh=true');\n    if (limit) params.push(`limit=${limit}`);\n    if (params.length > 0) {\n      url += '?' + params.join('&');\n    }\n    const response = await fetch(url);\n    if (response.ok) {\n      const data = await response.json();\n      return data.games || [];\n    } else {\n      console.warn('API not available, using fallback data');\n      return getFallbackGames();\n    }\n  } catch (error) {\n    console.warn('Network error:', error.message);\n    return getFallbackGames();\n  }\n}\n\n/**\r\n * Force refresh games from scraper\r\n */\nexport async function refreshGames() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/refresh`);\n    if (response.ok) {\n      const data = await response.json();\n      return data;\n    }\n  } catch (error) {\n    console.error('Refresh failed:', error);\n  }\n  return null;\n}\n\n/**\r\n * Get statistics\r\n */\nexport async function getStats() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/stats`);\n    if (response.ok) {\n      return await response.json();\n    }\n  } catch (error) {\n    console.error('Failed to get stats:', error);\n  }\n  return null;\n}\n\n/**\r\n * Fallback games data\r\n */\nfunction getFallbackGames() {\n  return [{\n    id: '1',\n    title: 'Cyberpunk 2077',\n    service: 'gfn',\n    imageUrl: 'https://images.igdb.com/igdb/image/upload/t_cover_big/co4a7y.jpg',\n    description: 'An open-world RPG set in Night City',\n    publisher: 'CD Projekt Red',\n    genre: 'RPG',\n    year: 2020,\n    score: 8.5,\n    url: 'https://www.nvidia.com/en-us/geforce-now/games/',\n    color: 'from-green-400 to-green-700'\n  }, {\n    id: '2',\n    title: 'Halo Infinite',\n    service: 'xbox',\n    imageUrl: 'https://images.igdb.com/igdb/image/upload/t_cover_big/co4rq7.jpg',\n    description: 'The next chapter in the Halo saga',\n    publisher: 'Xbox Game Studios',\n    genre: 'Shooter',\n    year: 2021,\n    score: 9.0,\n    url: 'https://www.xbox.com/en-US/play/games/halo-infinite',\n    color: 'from-blue-400 to-blue-700'\n  }];\n}","map":{"version":3,"names":["API_BASE_URL","fetchGames","refresh","limit","url","params","push","length","join","response","fetch","ok","data","json","games","console","warn","getFallbackGames","error","message","refreshGames","getStats","id","title","service","imageUrl","description","publisher","genre","year","score","color"],"sources":["C:/Users/marxa/Desktop/CloudBox/cloudbox-app/frontend/src/api/gameApi.js"],"sourcesContent":["// src/api/gameApi.js - CloudBox Game API Client\r\n\r\nconst API_BASE_URL = 'http://localhost:5000/api';\r\n\r\n/**\r\n * Fetches games from the CloudBox backend API\r\n */\r\nexport async function fetchGames(refresh = false, limit = null) {\r\n    try {\r\n        let url = `${API_BASE_URL}/games`;\r\n        const params = [];\r\n        \r\n        if (refresh) params.push('refresh=true');\r\n        if (limit) params.push(`limit=${limit}`);\r\n        \r\n        if (params.length > 0) {\r\n            url += '?' + params.join('&');\r\n        }\r\n        \r\n        const response = await fetch(url);\r\n        \r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            return data.games || [];\r\n        } else {\r\n            console.warn('API not available, using fallback data');\r\n            return getFallbackGames();\r\n        }\r\n    } catch (error) {\r\n        console.warn('Network error:', error.message);\r\n        return getFallbackGames();\r\n    }\r\n}\r\n\r\n/**\r\n * Force refresh games from scraper\r\n */\r\nexport async function refreshGames() {\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/refresh`);\r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            return data;\r\n        }\r\n    } catch (error) {\r\n        console.error('Refresh failed:', error);\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Get statistics\r\n */\r\nexport async function getStats() {\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/stats`);\r\n        if (response.ok) {\r\n            return await response.json();\r\n        }\r\n    } catch (error) {\r\n        console.error('Failed to get stats:', error);\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Fallback games data\r\n */\r\nfunction getFallbackGames() {\r\n    return [\r\n        {\r\n            id: '1',\r\n            title: 'Cyberpunk 2077',\r\n            service: 'gfn',\r\n            imageUrl: 'https://images.igdb.com/igdb/image/upload/t_cover_big/co4a7y.jpg',\r\n            description: 'An open-world RPG set in Night City',\r\n            publisher: 'CD Projekt Red',\r\n            genre: 'RPG',\r\n            year: 2020,\r\n            score: 8.5,\r\n            url: 'https://www.nvidia.com/en-us/geforce-now/games/',\r\n            color: 'from-green-400 to-green-700'\r\n        },\r\n        {\r\n            id: '2',\r\n            title: 'Halo Infinite',\r\n            service: 'xbox',\r\n            imageUrl: 'https://images.igdb.com/igdb/image/upload/t_cover_big/co4rq7.jpg',\r\n            description: 'The next chapter in the Halo saga',\r\n            publisher: 'Xbox Game Studios',\r\n            genre: 'Shooter',\r\n            year: 2021,\r\n            score: 9.0,\r\n            url: 'https://www.xbox.com/en-US/play/games/halo-infinite',\r\n            color: 'from-blue-400 to-blue-700'\r\n        }\r\n    ];\r\n}"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAG,2BAA2B;;AAEhD;AACA;AACA;AACA,OAAO,eAAeC,UAAUA,CAACC,OAAO,GAAG,KAAK,EAAEC,KAAK,GAAG,IAAI,EAAE;EAC5D,IAAI;IACA,IAAIC,GAAG,GAAG,GAAGJ,YAAY,QAAQ;IACjC,MAAMK,MAAM,GAAG,EAAE;IAEjB,IAAIH,OAAO,EAAEG,MAAM,CAACC,IAAI,CAAC,cAAc,CAAC;IACxC,IAAIH,KAAK,EAAEE,MAAM,CAACC,IAAI,CAAC,SAASH,KAAK,EAAE,CAAC;IAExC,IAAIE,MAAM,CAACE,MAAM,GAAG,CAAC,EAAE;MACnBH,GAAG,IAAI,GAAG,GAAGC,MAAM,CAACG,IAAI,CAAC,GAAG,CAAC;IACjC;IAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,CAAC;IAEjC,IAAIK,QAAQ,CAACE,EAAE,EAAE;MACb,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI,CAACE,KAAK,IAAI,EAAE;IAC3B,CAAC,MAAM;MACHC,OAAO,CAACC,IAAI,CAAC,wCAAwC,CAAC;MACtD,OAAOC,gBAAgB,CAAC,CAAC;IAC7B;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZH,OAAO,CAACC,IAAI,CAAC,gBAAgB,EAAEE,KAAK,CAACC,OAAO,CAAC;IAC7C,OAAOF,gBAAgB,CAAC,CAAC;EAC7B;AACJ;;AAEA;AACA;AACA;AACA,OAAO,eAAeG,YAAYA,CAAA,EAAG;EACjC,IAAI;IACA,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGV,YAAY,UAAU,CAAC;IACvD,IAAIS,QAAQ,CAACE,EAAE,EAAE;MACb,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI;IACf;EACJ,CAAC,CAAC,OAAOM,KAAK,EAAE;IACZH,OAAO,CAACG,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;EAC3C;EACA,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA,OAAO,eAAeG,QAAQA,CAAA,EAAG;EAC7B,IAAI;IACA,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGV,YAAY,QAAQ,CAAC;IACrD,IAAIS,QAAQ,CAACE,EAAE,EAAE;MACb,OAAO,MAAMF,QAAQ,CAACI,IAAI,CAAC,CAAC;IAChC;EACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZH,OAAO,CAACG,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAChD;EACA,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA,SAASD,gBAAgBA,CAAA,EAAG;EACxB,OAAO,CACH;IACIK,EAAE,EAAE,GAAG;IACPC,KAAK,EAAE,gBAAgB;IACvBC,OAAO,EAAE,KAAK;IACdC,QAAQ,EAAE,kEAAkE;IAC5EC,WAAW,EAAE,qCAAqC;IAClDC,SAAS,EAAE,gBAAgB;IAC3BC,KAAK,EAAE,KAAK;IACZC,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE,GAAG;IACV1B,GAAG,EAAE,iDAAiD;IACtD2B,KAAK,EAAE;EACX,CAAC,EACD;IACIT,EAAE,EAAE,GAAG;IACPC,KAAK,EAAE,eAAe;IACtBC,OAAO,EAAE,MAAM;IACfC,QAAQ,EAAE,kEAAkE;IAC5EC,WAAW,EAAE,mCAAmC;IAChDC,SAAS,EAAE,mBAAmB;IAC9BC,KAAK,EAAE,SAAS;IAChBC,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE,GAAG;IACV1B,GAAG,EAAE,qDAAqD;IAC1D2B,KAAK,EAAE;EACX,CAAC,CACJ;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}