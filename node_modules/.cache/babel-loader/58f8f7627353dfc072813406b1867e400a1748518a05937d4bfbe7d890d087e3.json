{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marxa\\\\Desktop\\\\CloudBox\\\\cloudbox-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Gamepad2, Search, Settings, Filter, Monitor, Moon, Sun, X, Cloud, ArrowDownAZ, ArrowUpAZ, ExternalLink, ImageOff, Calendar, Layers, Info, Rocket, Menu, Loader2, ChevronRight, Play, GamepadIcon } from 'lucide-react';\nimport { fetchGames } from './api/gameApi';\n\n// Platform Logo Components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst XboxLogo = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m24 12c0-.001 0-.001 0-.002 0-3.618-1.606-6.861-4.144-9.054l-.015-.013c-1.91 1.023-3.548 2.261-4.967 3.713l-.004.004c.044.046.087.085.131.132 3.719 4.012 7.106 9.73 6.546 12.471 1.53-1.985 2.452-4.508 2.452-7.246 0-.002 0-.004 0-.006z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m12.591 3.955c1.68-1.104 3.699-1.833 5.872-2.022l.048-.003c-1.837-1.21-4.09-1.929-6.511-1.929-2.171 0-4.207.579-5.962 1.591l.058-.031c.658.567 2.837.781 5.484 2.4.143.089.316.142.502.142.189 0 .365-.055.513-.149l-.004.002z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m9.166 6.778c.046-.049.093-.09.138-.138-1.17-1.134-2.446-2.174-3.806-3.1l-.099-.064c-.302-.221-.681-.354-1.091-.354-.146 0-.288.017-.425.049l.013-.002c-2.398 2.198-3.896 5.344-3.896 8.84 0 2.909 1.037 5.576 2.762 7.651l-.016-.020c-1.031-2.547 2.477-8.672 6.419-12.862z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m12.084 9.198c-3.962 3.503-9.477 8.73-8.632 11.218 2.174 2.213 5.198 3.584 8.542 3.584 3.493 0 6.637-1.496 8.826-3.883l.008-.009c.486-2.618-4.755-7.337-8.744-10.910z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 30,\n  columnNumber: 3\n}, this);\n_c = XboxLogo;\nconst GfnLogo = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M8.948 8.798v-1.43a6.7 6.7 0 0 1 .424-.018c3.922-.124 6.493 3.374 6.493 3.374s-2.774 3.851-5.75 3.851c-.398 0-.787-.062-1.158-.185v-4.346c1.528.185 1.837.857 2.747 2.385l2.04-1.714s-1.492-1.952-4-1.952a6.016 6.016 0 0 0-.796.035m0-4.735v2.138l.424-.027c5.45-.185 9.01 4.47 9.01 4.47s-4.08 4.964-8.33 4.964c-.37 0-.733-.035-1.095-.097v1.325c.3.035.61.062.91.062 3.957 0 6.82-2.023 9.593-4.408.459.371 2.34 1.263 2.73 1.652-2.633 2.208-8.772 3.984-12.253 3.984-.335 0-.653-.018-.971-.053v1.864H24V4.063zm0 10.326v1.131c-3.657-.654-4.673-4.46-4.673-4.46s1.758-1.944 4.673-2.262v1.237H8.94c-1.528-.186-2.73 1.245-2.73 1.245s.68 2.412 2.739 3.11M2.456 10.9s2.164-3.197 6.5-3.533V6.201C4.153 6.59 0 10.653 0 10.653s2.35 6.802 8.948 7.42v-1.237c-4.84-.6-6.492-5.936-6.492-5.936z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 39,\n  columnNumber: 3\n}, this);\n\n// Pulsing Glow Styles\n_c2 = GfnLogo;\nconst PulsingGlowStyles = () => /*#__PURE__*/_jsxDEV(\"style\", {\n  dangerouslySetInnerHTML: {\n    __html: `\n        @keyframes pulse-glow {\n            0%, 100% { \n                box-shadow: \n                    0 0 5px rgba(99, 102, 241, 0.3), \n                    0 0 10px rgba(99, 102, 241, 0.15); \n            }\n            50% { \n                box-shadow: \n                    0 0 10px rgba(129, 140, 248, 0.5), \n                    0 0 20px rgba(129, 140, 248, 0.3); \n            }\n        }\n        \n        @keyframes wave-move {\n          0% {\n            background-position: 0% 50%;\n          }\n          100% {\n            background-position: 200% 50%;\n          }\n        }\n        \n        @keyframes launch-pulse {\n          0% {\n            transform: scale(1);\n            box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7);\n          }\n          70% {\n            transform: scale(1.02);\n            box-shadow: 0 0 0 10px rgba(99, 102, 241, 0);\n          }\n          100% {\n            transform: scale(1);\n            box-shadow: 0 0 0 0 rgba(99, 102, 241, 0);\n          }\n        }\n        \n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px);\n          }\n          50% {\n            transform: translateY(-5px);\n          }\n        }\n        \n        @keyframes fade-in {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n        \n        .is-visually-active {\n            transform: scale(1.02) !important;\n            z-index: 20; \n            border-color: #6366F1;\n            animation: pulse-glow 2s infinite alternate ease-in-out;\n        }\n        \n        .wave-animation {\n          animation: wave-move 15s linear infinite;\n        }\n        \n        .float-animation {\n          animation: float 6s infinite ease-in-out;\n        }\n        \n        .launch-pulse {\n          animation: launch-pulse 2s infinite;\n        }\n        \n        .fade-in {\n          animation: fade-in 0.5s ease-out;\n        }\n        \n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n        \n        .animate-spin-slow {\n            animation: spin 3s linear infinite;\n        }\n        \n        /* Hide scrollbar for Chrome, Safari and Opera */\n        .no-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        \n        /* Hide scrollbar for IE, Edge and Firefox */\n        .no-scrollbar {\n          -ms-overflow-style: none;  /* IE and Edge */\n          scrollbar-width: none;  /* Firefox */\n        }\n    `\n  }\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 46,\n  columnNumber: 5\n}, this);\n\n// Enhanced Controller Guide - SIMPLIFIED\n_c3 = PulsingGlowStyles;\nconst ControllerGuide = ({\n  darkMode,\n  gamepadConnected\n}) => {\n  const buttonClass = \"w-7 h-7 rounded-full flex items-center justify-center font-bold text-sm border-2 relative overflow-hidden group\";\n  const buttonBorder = darkMode ? 'border-white/60 text-white bg-gradient-to-br from-slate-800 to-slate-900' : 'border-gray-500 text-gray-800 bg-gradient-to-br from-white to-gray-100';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `fixed bottom-6 right-6 z-50 p-4 rounded-2xl backdrop-blur-xl border-2 ${darkMode ? 'border-white/10 bg-slate-900/80 text-white shadow-2xl' : 'border-gray-300/50 bg-white/80 text-gray-900 shadow-2xl'} transition-all duration-300`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-2.5 text-sm relative z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2.5\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${buttonClass} ${buttonBorder} shadow-inner group-hover:scale-110 transition-all duration-200`,\n            children: \"X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium min-w-[60px]\",\n            children: \"Launch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2.5\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${buttonClass} ${buttonBorder} shadow-inner group-hover:scale-110 transition-all duration-200`,\n            children: /*#__PURE__*/_jsxDEV(Menu, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium min-w-[60px]\",\n            children: \"Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-px w-full bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2.5\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${buttonClass} ${buttonBorder} shadow-inner group-hover:scale-110 transition-all duration-200`,\n            children: \"A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium min-w-[60px]\",\n            children: \"Select\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2.5\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `${buttonClass} ${buttonBorder} shadow-inner group-hover:scale-110 transition-all duration-200`,\n            children: \"Y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium min-w-[60px]\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), gamepadConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex items-center justify-center gap-2 text-xs opacity-60\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-2 py-0.5 rounded bg-white/10\",\n          children: \"LB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-2 py-0.5 rounded bg-white/10\",\n          children: \"RB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs\",\n          children: \"Navigate tabs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 9\n  }, this);\n};\n\n// Game Detail Modal\n_c4 = ControllerGuide;\nconst GameDetailModal = ({\n  game,\n  onClose,\n  onLaunch,\n  darkMode\n}) => {\n  if (!game) return null;\n  const modalContentClasses = darkMode ? 'bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700' : 'bg-gradient-to-br from-white to-gray-50 text-gray-900 border border-gray-200 shadow-2xl';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50 transition-opacity duration-300 overflow-y-auto p-4\",\n    onClick: onClose,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-black/60\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `relative w-full max-w-2xl max-h-[90vh] rounded-2xl p-6 transition-transform duration-300 transform scale-100 ${modalContentClasses} flex flex-col`,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-6 flex-shrink-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-extrabold leading-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",\n            children: game.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: `p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-200'}`,\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex-grow overflow-y-auto pr-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 mb-4 md:mb-0 rounded-xl overflow-hidden shadow-xl aspect-[2/3] w-full max-w-[150px] self-center md:self-start border-4 border-white/20\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: game.imageUrl,\n              alt: `${game.title} cover`,\n              className: \"w-full h-full object-cover\",\n              onError: e => {\n                e.target.onerror = null;\n                const parent = e.target.parentNode;\n                parent.innerHTML = `\n                                        <div class=\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br ${game.color} p-4\">\n                                            <ImageOff class=\"w-10 h-10 text-white/50 mb-2\" />\n                                            <span class=\"text-white/70 text-sm text-center\">${game.title}</span>\n                                        </div>\n                                    `;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center gap-1 text-sm px-3 py-1 rounded-full ${darkMode ? 'bg-slate-700/80' : 'bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border border-blue-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: game.year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center gap-1 text-sm px-3 py-1 rounded-full ${darkMode ? 'bg-slate-700/80' : 'bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 border border-purple-200'}`,\n                children: [/*#__PURE__*/_jsxDEV(Layers, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: game.genre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center gap-1 text-sm px-3 py-1 rounded-full ${game.service === 'xbox' ? 'bg-gradient-to-r from-[#107C10]/90 to-[#0e6e0e]/90' : 'bg-gradient-to-r from-[#76B900]/90 to-[#68a500]/90'} text-white shadow-md`,\n                children: [game.service === 'xbox' ? /*#__PURE__*/_jsxDEV(XboxLogo, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 64\n                }, this) : /*#__PURE__*/_jsxDEV(GfnLogo, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 99\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: game.service === 'xbox' ? 'Xbox Cloud' : 'GeForce NOW'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold mb-2 opacity-70\",\n              children: \"About the Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm leading-relaxed mb-8 opacity-90\",\n              children: game.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-semibold mb-1 opacity-70\",\n                  children: \"Publisher\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-sm ${darkMode ? 'text-white/80' : 'text-gray-700'}`,\n                  children: game.publisher\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-sm font-semibold mb-1 opacity-70\",\n                  children: \"Release Year\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-sm ${darkMode ? 'text-white/80' : 'text-gray-700'}`,\n                  children: game.year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-shrink-0 pt-4 flex gap-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            console.log('Launching game:', game.title, 'to:', game.url);\n            if (game.url && game.url !== '#') {\n              window.open(game.url, '_blank', 'noopener,noreferrer');\n            }\n            onClose();\n          },\n          className: \"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-lg font-bold text-white bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-lg shadow-indigo-500/30 transform hover:scale-[1.02] hover:shadow-indigo-500/50 active:scale-[0.98] launch-pulse\",\n          children: [/*#__PURE__*/_jsxDEV(Play, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this), \"Launch Now\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 9\n  }, this);\n};\n\n// Settings Modal\n_c5 = GameDetailModal;\nconst SettingsModal = ({\n  show,\n  onClose,\n  darkMode,\n  setDarkMode,\n  services,\n  setServices,\n  sortAsc,\n  setSortAsc\n}) => {\n  if (!show) return null;\n  const modalClasses = darkMode ? 'bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700' : 'bg-gradient-to-br from-white to-gray-50 text-gray-900 border border-gray-200 shadow-2xl';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-full max-w-lg rounded-2xl p-6 transition-transform duration-300 transform scale-100 ${modalClasses}`,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",\n          children: [/*#__PURE__*/_jsxDEV(Settings, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 25\n          }, this), \"CloudBox Settings\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: `p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-200'}`,\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: \"Theme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: darkMode ? 'text-white/80' : 'text-gray-700',\n            children: \"Toggle Dark Mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setDarkMode(!darkMode),\n            className: `flex items-center p-2 rounded-full transition-all ${darkMode ? 'bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700' : 'bg-gradient-to-r from-gray-200 to-gray-300 text-gray-800 hover:from-gray-300 hover:to-gray-400 shadow-sm'}`,\n            children: [darkMode ? /*#__PURE__*/_jsxDEV(Sun, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(Moon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 71\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-sm font-medium\",\n              children: darkMode ? 'Light Mode' : 'Dark Mode'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-2 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 88\n          }, this), \" Filters\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setServices({\n              xbox: true,\n              gfn: true\n            }),\n            className: `flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${services.xbox ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white shadow-md' : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(XboxLogo, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this), \"Xbox Cloud\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setServices({\n              xbox: false,\n              gfn: true\n            }),\n            className: `flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${services.gfn ? 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white shadow-md' : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(GfnLogo, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 29\n            }, this), \"GeForce NOW\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-green-50 to-emerald-50 border border-green-100'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-2 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowDownAZ, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 88\n          }, this), \" Sorting\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSortAsc(true),\n            className: `flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${sortAsc ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(ArrowUpAZ, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 29\n            }, this), \"A-Z (Ascending)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSortAsc(false),\n            className: `flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${!sortAsc ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(ArrowDownAZ, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 29\n            }, this), \"Z-A (Descending)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 9\n  }, this);\n};\n\n// Main App Component\n_c6 = SettingsModal;\nexport default function App() {\n  _s();\n  const [games, setGames] = useState([]);\n  const [filteredGames, setFilteredGames] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedGame, setSelectedGame] = useState(null);\n  const [darkMode, setDarkMode] = useState(true);\n  const [showSettings, setShowSettings] = useState(false);\n  const [services, setServices] = useState({\n    xbox: true,\n    gfn: true\n  });\n  const [sortAsc, setSortAsc] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [focusedIndex, setFocusedIndex] = useState(0);\n  const [isGridFocused, setIsGridFocused] = useState(true);\n  const [gamepadConnected, setGamepadConnected] = useState(false);\n  const gridRef = useRef(null);\n  const searchInputRef = useRef(null);\n  const gamepadRef = useRef(null);\n  const prevButtonsRef = useRef([]);\n  const tabButtonsRef = useRef([]);\n\n  // Track available tabs for controller navigation\n  const tabs = [{\n    key: 'all',\n    label: 'All Games',\n    action: () => setServices({\n      xbox: true,\n      gfn: true\n    })\n  }, {\n    key: 'gfn',\n    label: 'GFN',\n    action: () => setServices({\n      xbox: false,\n      gfn: true\n    })\n  }, {\n    key: 'xbox',\n    label: 'Xbox',\n    action: () => setServices({\n      xbox: true,\n      gfn: false\n    })\n  }];\n\n  // Get current active tab index\n  const getActiveTabIndex = () => {\n    if (services.xbox && services.gfn) return 0; // All Games\n    if (!services.xbox && services.gfn) return 1; // GFN\n    if (services.xbox && !services.gfn) return 2; // Xbox\n    return 0;\n  };\n\n  // Navigate tabs with controller\n  const navigateTabs = useCallback(direction => {\n    const currentIndex = getActiveTabIndex();\n    let newIndex;\n    if (direction === 'left') {\n      newIndex = currentIndex > 0 ? currentIndex - 1 : tabs.length - 1;\n    } else {\n      newIndex = currentIndex < tabs.length - 1 ? currentIndex + 1 : 0;\n    }\n    tabs[newIndex].action();\n  }, [services, tabs]);\n\n  // Fetch games on component mount\n  useEffect(() => {\n    const loadGames = async () => {\n      try {\n        const data = await fetchGames();\n        console.log('Loaded games:', data.length);\n        setGames(data);\n      } catch (error) {\n        console.error(\"Failed to fetch games:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadGames();\n  }, []);\n\n  // Filter and sort games\n  useEffect(() => {\n    if (isLoading) return;\n    console.log('Filtering games with services:', services);\n    let result = games.filter(g => {\n      const matchesService = g.service === 'xbox' && services.xbox || g.service === 'gfn' && services.gfn;\n      const matchesSearch = searchQuery ? g.title.toLowerCase().includes(searchQuery.toLowerCase()) || g.genre.toLowerCase().includes(searchQuery.toLowerCase()) || g.publisher && g.publisher.toLowerCase().includes(searchQuery.toLowerCase()) : true;\n      return matchesService && matchesSearch;\n    });\n    console.log('Filtered to', result.length, 'games');\n    result.sort((a, b) => {\n      return sortAsc ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title);\n    });\n    setFilteredGames(result);\n    if (result.length > 0) {\n      setFocusedIndex(prev => Math.min(prev, result.length - 1));\n    } else {\n      setFocusedIndex(0);\n    }\n    if (selectedGame && !result.find(g => g.id === selectedGame.id)) {\n      setSelectedGame(null);\n    }\n  }, [games, services, sortAsc, searchQuery, selectedGame, isLoading]);\n\n  // Scroll into view\n  useEffect(() => {\n    if (isGridFocused && gridRef.current && filteredGames.length > 0) {\n      const cards = gridRef.current.querySelectorAll('[data-game-card]');\n      if (cards[focusedIndex]) {\n        cards[focusedIndex].scrollIntoView({\n          behavior: 'smooth',\n          block: 'center',\n          inline: 'nearest'\n        });\n      }\n    }\n  }, [focusedIndex, isGridFocused, filteredGames.length]);\n\n  // Launch handler\n  const handleLaunch = useCallback((game, directLaunch = false) => {\n    if (!game) return;\n    if (directLaunch) {\n      console.log('Launching game:', game.title, 'to:', game.url);\n      if (game.url && game.url !== '#') {\n        window.open(game.url, '_blank', 'noopener,noreferrer');\n      }\n      setSelectedGame(null);\n      return;\n    }\n    if (!selectedGame || selectedGame.id !== game.id) {\n      setSelectedGame(game);\n      return;\n    }\n  }, [selectedGame]);\n\n  // Navigation handler\n  const handleNavigation = useCallback(direction => {\n    if (showSettings || selectedGame || document.activeElement === searchInputRef.current) return;\n    if (!isGridFocused) setIsGridFocused(true);\n    const total = filteredGames.length;\n    if (total === 0) return;\n    let gridWidth = 4;\n    if (gridRef.current) {\n      const style = window.getComputedStyle(gridRef.current);\n      const columns = style.getPropertyValue('grid-template-columns').split(' ').length;\n      if (columns > 0) gridWidth = columns;\n    }\n    setFocusedIndex(prev => {\n      let next = prev;\n      switch (direction) {\n        case 'UP':\n          next = prev - gridWidth;\n          break;\n        case 'DOWN':\n          next = prev + gridWidth;\n          break;\n        case 'LEFT':\n          next = prev - 1;\n          break;\n        case 'RIGHT':\n          next = prev + 1;\n          break;\n        default:\n          break;\n      }\n      if (next < 0) next = 0;\n      if (next >= total) next = total - 1;\n      return next;\n    });\n  }, [filteredGames, isGridFocused, showSettings, selectedGame]);\n\n  // Gamepad polling\n  useEffect(() => {\n    let animationFrameId;\n    const pollGamepad = () => {\n      const gamepads = navigator.getGamepads();\n      const gamepad = gamepads[0]; // Get first connected gamepad\n\n      if (gamepad) {\n        if (!gamepadConnected) {\n          setGamepadConnected(true);\n          console.log('Gamepad connected:', gamepad.id);\n        }\n        gamepadRef.current = gamepad;\n\n        // Check buttons\n        const buttons = gamepad.buttons;\n        const prevButtons = prevButtonsRef.current;\n        buttons.forEach((button, index) => {\n          const pressed = button.pressed || button.value > 0.5;\n\n          // Only trigger on button press (not release)\n          if (pressed && (!prevButtons[index] || !prevButtons[index].pressed)) {\n            handleGamepadInput(index);\n          }\n\n          // Update previous button state\n          if (!prevButtons[index]) {\n            prevButtons[index] = {\n              pressed\n            };\n          } else {\n            prevButtons[index].pressed = pressed;\n          }\n        });\n\n        // Check axes for D-pad/joystick\n        const axes = gamepad.axes;\n        const DEAD_ZONE = 0.5;\n\n        // Left/Right on axis 0\n        if (axes[0] < -DEAD_ZONE) {\n          handleNavigation('LEFT');\n        } else if (axes[0] > DEAD_ZONE) {\n          handleNavigation('RIGHT');\n        }\n\n        // Up/Down on axis 1\n        if (axes[1] < -DEAD_ZONE) {\n          handleNavigation('UP');\n        } else if (axes[1] > DEAD_ZONE) {\n          handleNavigation('DOWN');\n        }\n      } else {\n        if (gamepadConnected) {\n          setGamepadConnected(false);\n          gamepadRef.current = null;\n        }\n      }\n      animationFrameId = requestAnimationFrame(pollGamepad);\n    };\n    animationFrameId = requestAnimationFrame(pollGamepad);\n\n    // Gamepad connection events\n    const handleGamepadConnected = e => {\n      console.log('Gamepad connected:', e.gamepad.id);\n      setGamepadConnected(true);\n      gamepadRef.current = e.gamepad;\n    };\n    const handleGamepadDisconnected = e => {\n      console.log('Gamepad disconnected:', e.gamepad.id);\n      setGamepadConnected(false);\n      gamepadRef.current = null;\n    };\n    window.addEventListener('gamepadconnected', handleGamepadConnected);\n    window.addEventListener('gamepaddisconnected', handleGamepadDisconnected);\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n      window.removeEventListener('gamepadconnected', handleGamepadConnected);\n      window.removeEventListener('gamepaddisconnected', handleGamepadDisconnected);\n    };\n  }, [gamepadConnected, handleNavigation]);\n\n  // Gamepad input handler - UPDATED with LB/RB support\n  const handleGamepadInput = useCallback(buttonIndex => {\n    // Don't handle gamepad input when typing in search\n    const isTypingInSearch = document.activeElement === searchInputRef.current;\n    if (isTypingInSearch && buttonIndex !== 1) return; // Only B button works when typing\n\n    const gameInFocus = filteredGames[focusedIndex];\n    switch (buttonIndex) {\n      case 0:\n        // A button (Xbox: Bottom, PlayStation: Cross)\n        if (selectedGame) {\n          handleLaunch(selectedGame, true);\n        } else if (gameInFocus) {\n          setSelectedGame(gameInFocus);\n        }\n        break;\n      case 1:\n        // B button (Xbox: Right, PlayStation: Circle)\n        if (selectedGame) {\n          setSelectedGame(null);\n        } else if (showSettings) {\n          setShowSettings(false);\n        } else if (isTypingInSearch) {\n          searchInputRef.current.blur();\n          setIsGridFocused(true);\n        }\n        break;\n      case 2:\n        // X button (Xbox: Left, PlayStation: Square)\n        if (selectedGame) {\n          handleLaunch(selectedGame, true);\n        } else if (gameInFocus) {\n          handleLaunch(gameInFocus, true);\n        }\n        break;\n      case 3:\n        // Y button (Xbox: Top, PlayStation: Triangle)\n        if (!selectedGame && !showSettings && searchInputRef.current) {\n          searchInputRef.current.focus();\n          setIsGridFocused(false);\n        }\n        break;\n      case 4:\n        // LB button - Navigate tabs left\n        if (!selectedGame && !showSettings && !isTypingInSearch) {\n          navigateTabs('left');\n        }\n        break;\n      case 5:\n        // RB button - Navigate tabs right\n        if (!selectedGame && !showSettings && !isTypingInSearch) {\n          navigateTabs('right');\n        }\n        break;\n      case 9:\n        // Start button\n        if (!selectedGame && !isTypingInSearch) {\n          setShowSettings(true);\n        }\n        break;\n      case 8:\n        // Select button\n        // Optional: Could be used for something else\n        break;\n      case 12:\n        // D-pad up\n        if (!selectedGame && !showSettings) {\n          handleNavigation('UP');\n        }\n        break;\n      case 13:\n        // D-pad down\n        if (!selectedGame && !showSettings) {\n          handleNavigation('DOWN');\n        }\n        break;\n      case 14:\n        // D-pad left\n        if (!selectedGame && !showSettings) {\n          handleNavigation('LEFT');\n        }\n        break;\n      case 15:\n        // D-pad right\n        if (!selectedGame && !showSettings) {\n          handleNavigation('RIGHT');\n        }\n        break;\n    }\n  }, [selectedGame, showSettings, filteredGames, focusedIndex, handleLaunch, handleNavigation, navigateTabs]);\n\n  // Keyboard listeners - Updated to work alongside gamepad\n  useEffect(() => {\n    const handleKeyDown = e => {\n      // Don't handle keyboard if gamepad is connected and user is using it\n      // But still allow Escape and typing in search\n      if (gamepadConnected && !['Escape', 'b', 'B', 'Tab', 'Enter', 'q', 'e'].includes(e.key) && document.activeElement !== searchInputRef.current) {\n        return;\n      }\n\n      // Handle Escape/B for closing modals\n      if (e.key === 'Escape' || e.key.toLowerCase() === 'b') {\n        e.preventDefault();\n        if (selectedGame) {\n          setSelectedGame(null);\n        } else if (showSettings) {\n          setShowSettings(false);\n        } else if (document.activeElement === searchInputRef.current) {\n          searchInputRef.current.blur();\n          setIsGridFocused(true);\n        }\n        return;\n      }\n\n      // Check if user is typing in search input\n      const isTypingInSearch = document.activeElement === searchInputRef.current;\n\n      // Handle search focus (Y button)\n      if (e.key.toLowerCase() === 'y' && !isTypingInSearch && !selectedGame && !showSettings) {\n        e.preventDefault();\n        if (searchInputRef.current) {\n          searchInputRef.current.focus();\n          setIsGridFocused(false);\n        }\n        return;\n      }\n\n      // Handle LB/Q and RB/E for tab navigation\n      if ((e.key === 'q' || e.key === 'Q') && !isTypingInSearch && !selectedGame && !showSettings) {\n        e.preventDefault();\n        navigateTabs('left');\n        return;\n      }\n      if ((e.key === 'e' || e.key === 'E') && !isTypingInSearch && !selectedGame && !showSettings) {\n        e.preventDefault();\n        navigateTabs('right');\n        return;\n      }\n\n      // Handle settings menu (Start button)\n      if ((e.key === 'Menu' || e.key === 'ContextMenu') && !isTypingInSearch && !selectedGame) {\n        e.preventDefault();\n        setShowSettings(true);\n        return;\n      }\n\n      // If typing in search, don't handle gamepad controls\n      if (isTypingInSearch) {\n        return;\n      }\n\n      // Prevent default for navigation keys only when not typing\n      if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', ' ', 'Enter'].includes(e.key)) {\n        e.preventDefault();\n      }\n\n      // Handle Start/Enter for settings only when grid is focused\n      if (e.key === 'Enter' && !selectedGame && !showSettings && isGridFocused) {\n        e.preventDefault();\n        setShowSettings(true);\n        return;\n      }\n      if (showSettings) return;\n      const gameInFocus = filteredGames[focusedIndex];\n      switch (e.key) {\n        case 'ArrowUp':\n        case 'ArrowDown':\n        case 'ArrowLeft':\n        case 'ArrowRight':\n          if (!selectedGame) handleNavigation(e.key.replace('Arrow', '').toUpperCase());\n          break;\n        case 'Enter':\n          if (selectedGame) {\n            handleLaunch(selectedGame, true);\n          } else if (gameInFocus) {\n            setSelectedGame(gameInFocus);\n          }\n          break;\n        case ' ':\n          // Spacebar: Launch directly\n          if (selectedGame) {\n            handleLaunch(selectedGame, true);\n          } else if (gameInFocus) {\n            handleLaunch(gameInFocus, true);\n          }\n          break;\n        case 'x': // X button: Launch directly\n        case 'X':\n          // X button (caps)\n          if (selectedGame) {\n            handleLaunch(selectedGame, true);\n          } else if (gameInFocus) {\n            handleLaunch(gameInFocus, true);\n          }\n          break;\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [handleNavigation, showSettings, filteredGames, focusedIndex, selectedGame, handleLaunch, isGridFocused, gamepadConnected, navigateTabs]);\n\n  // Updated theme - just text colors\n  const themeClasses = darkMode ? \"text-white\" : \"text-gray-900\";\n  const cardBase = \"relative rounded-xl overflow-hidden shadow-lg transition-all duration-300 transform aspect-[2/3] flex flex-col justify-end group cursor-pointer border-2 border-transparent hover:border-white/20\";\n\n  // Loading screen\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-full min-h-screen flex flex-col items-center justify-center font-sans bg-gradient-to-br from-slate-900 to-slate-950 text-white transition-colors duration-300 overflow-hidden fade-in`,\n      children: [/*#__PURE__*/_jsxDEV(PulsingGlowStyles, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 873,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"w-16 h-16 text-indigo-500 animate-spin-slow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 874,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mt-4\",\n        children: \"Loading CloudBox Games...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"opacity-70 mt-2\",\n        children: \"Fetching games from the cloud\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 876,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 872,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Main render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `w-full min-h-screen font-sans ${themeClasses} transition-colors duration-300 overflow-x-hidden no-scrollbar fade-in`,\n    children: [/*#__PURE__*/_jsxDEV(PulsingGlowStyles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 884,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-0 overflow-hidden bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 wave-animation\",\n        style: {\n          background: `linear-gradient(\n              90deg,\n              transparent,\n              rgba(59, 130, 246, 0.15),\n              rgba(99, 102, 241, 0.25),\n              rgba(139, 92, 246, 0.15),\n              transparent\n            )`,\n          backgroundSize: '200% 100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 889,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 opacity-5\",\n        style: {\n          backgroundImage: `linear-gradient(\n              to bottom,\n              transparent 95%,\n              rgba(255, 255, 255, 0.1) 100%\n            )`,\n          backgroundSize: '100% 4px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 904,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 887,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: `fixed top-0 left-0 right-0 z-40 px-6 py-4 backdrop-blur-md flex items-center justify-between ${darkMode ? 'bg-slate-900/80 border-b border-slate-800' : 'bg-white/80 border-b border-gray-200 shadow-sm'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-blue-500 to-purple-600 p-2 rounded-xl shadow-lg float-animation\",\n            children: /*#__PURE__*/_jsxDEV(Cloud, {\n              className: \"text-white w-6 h-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",\n            children: \"CloudBox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 924,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 920,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          ref: tabButtonsRef,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setServices({\n              xbox: true,\n              gfn: true\n            }),\n            className: `px-3 py-1.5 rounded-full text-sm font-medium transition-all ${services.xbox && services.gfn ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' : darkMode ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`,\n            children: \"All Games\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setServices({\n              xbox: false,\n              gfn: true\n            }),\n            className: `px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${services.gfn && !services.xbox ? 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white shadow-md' : darkMode ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(GfnLogo, {\n              className: \"w-3.5 h-3.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 949,\n              columnNumber: 15\n            }, this), \"GFN\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 941,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setServices({\n              xbox: true,\n              gfn: false\n            }),\n            className: `px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${services.xbox && !services.gfn ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white shadow-md' : darkMode ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(XboxLogo, {\n              className: \"w-3.5 h-3.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 15\n            }, this), \"Xbox\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 919,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-center px-3 py-1.5 rounded-full border transition-all ${darkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-300 shadow-sm'}`,\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: `w-4 h-4 mr-2 ${darkMode ? 'text-slate-400' : 'text-gray-400'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: searchInputRef,\n            type: \"text\",\n            placeholder: \"Search games...\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            onFocus: () => setIsGridFocused(false),\n            onBlur: () => setIsGridFocused(true),\n            className: `bg-transparent border-none outline-none text-sm w-40 ${darkMode ? 'placeholder-slate-400' : 'placeholder-gray-500'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 970,\n            columnNumber: 13\n          }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSearchQuery(\"\"),\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: `w-4 h-4 ${darkMode ? 'text-slate-400 hover:text-white' : 'text-gray-400 hover:text-gray-600'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 981,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 968,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowSettings(true),\n          className: `p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-800' : 'hover:bg-gray-200 shadow-sm'}`,\n          children: /*#__PURE__*/_jsxDEV(Settings, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 986,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 967,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 917,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"px-6 pb-12 container max-w-7xl mx-auto transition-filter duration-300 pt-20 no-scrollbar relative z-10\",\n      style: {\n        filter: selectedGame || showSettings ? 'blur(2px)' : 'none',\n        pointerEvents: selectedGame || showSettings ? 'none' : 'auto'\n      },\n      children: filteredGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-20 opacity-50 flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n          className: `w-16 h-16 mb-4 ${darkMode ? 'text-slate-600' : 'text-gray-400'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1005,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl\",\n          children: \"No games found with the current filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm opacity-70 mt-2\",\n          children: \"Try changing your search or enabling more services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: gridRef,\n        className: \"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-6 transition-all duration-300\",\n        children: filteredGames.map((game, index) => {\n          const isVisuallyActive = index === focusedIndex && !selectedGame && !showSettings;\n          const dimClass = selectedGame || showSettings ? 'opacity-60' : '';\n          const activeClasses = isVisuallyActive ? 'is-visually-active' : 'opacity-90 hover:opacity-100';\n          const badgeClasses = game.service === 'xbox' ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white' : 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            \"data-game-card\": true,\n            tabIndex: -1,\n            onClick: () => {\n              if (showSettings) return;\n              setFocusedIndex(index);\n              setSelectedGame(game);\n            },\n            onMouseEnter: () => {\n              if (!showSettings) {\n                setFocusedIndex(index);\n                setIsGridFocused(false);\n              }\n            },\n            className: `${cardBase} ${activeClasses} ${dimClass} ${darkMode ? '' : 'shadow-md hover:shadow-lg'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0\",\n              style: {\n                backgroundImage: `url(${game.imageUrl})`,\n                backgroundSize: 'cover',\n                backgroundPosition: 'center'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1041,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-black/30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1049,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: game.imageUrl,\n              alt: game.title,\n              className: \"absolute inset-0 w-full h-full object-cover opacity-95 group-hover:opacity-100\",\n              onError: e => {\n                e.target.onerror = null;\n                const parent = e.target.parentNode;\n                const serviceColor = game.service === 'xbox' ? '#0078D4' : '#107C10';\n                parent.innerHTML = `\n                        <div class=\"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br ${game.color} p-4\">\n                          <span class=\"text-white font-bold text-lg text-center\">${game.title}</span>\n                          <span class=\"text-white/70 text-sm mt-2\">${game.service === 'xbox' ? 'Xbox Cloud' : 'GeForce NOW'}</span>\n                        </div>\n                      `;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1052,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-x-0 bottom-0\",\n              style: {\n                height: '50%',\n                background: 'linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 0%, transparent 100%)'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1070,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-0 left-0 right-0 p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold leading-tight text-white drop-shadow-[0_2px_8px rgba(0,0,0,0.9)]\",\n                children: game.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1080,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mt-2\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-white/80\",\n                  children: game.year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1084,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1083,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `absolute top-2 left-2 p-1 rounded-full shadow-lg ${badgeClasses}`,\n              children: game.service === 'xbox' ? /*#__PURE__*/_jsxDEV(XboxLogo, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1091,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(GfnLogo, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1092,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1089,\n              columnNumber: 19\n            }, this)]\n          }, game.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1023,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1010,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 996,\n      columnNumber: 7\n    }, this), !selectedGame && !showSettings && /*#__PURE__*/_jsxDEV(ControllerGuide, {\n      darkMode: darkMode,\n      gamepadConnected: gamepadConnected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1104,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(SettingsModal, {\n      show: showSettings,\n      onClose: () => setShowSettings(false),\n      darkMode: darkMode,\n      setDarkMode: setDarkMode,\n      services: services,\n      setServices: setServices,\n      sortAsc: sortAsc,\n      setSortAsc: setSortAsc\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GameDetailModal, {\n      game: selectedGame,\n      onClose: () => setSelectedGame(null),\n      onLaunch: handleLaunch,\n      darkMode: darkMode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 883,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"cvy10JmovpQtqxgaxd/BvTR8RiM=\");\n_c7 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"XboxLogo\");\n$RefreshReg$(_c2, \"GfnLogo\");\n$RefreshReg$(_c3, \"PulsingGlowStyles\");\n$RefreshReg$(_c4, \"ControllerGuide\");\n$RefreshReg$(_c5, \"GameDetailModal\");\n$RefreshReg$(_c6, \"SettingsModal\");\n$RefreshReg$(_c7, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Gamepad2","Search","Settings","Filter","Monitor","Moon","Sun","X","Cloud","ArrowDownAZ","ArrowUpAZ","ExternalLink","ImageOff","Calendar","Layers","Info","Rocket","Menu","Loader2","ChevronRight","Play","GamepadIcon","fetchGames","jsxDEV","_jsxDEV","XboxLogo","className","viewBox","fill","xmlns","children","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","GfnLogo","_c2","PulsingGlowStyles","dangerouslySetInnerHTML","__html","_c3","ControllerGuide","darkMode","gamepadConnected","buttonClass","buttonBorder","_c4","GameDetailModal","game","onClose","onLaunch","modalContentClasses","onClick","e","stopPropagation","title","src","imageUrl","alt","onError","target","onerror","parent","parentNode","innerHTML","color","year","genre","service","description","publisher","console","log","url","window","open","_c5","SettingsModal","show","setDarkMode","services","setServices","sortAsc","setSortAsc","modalClasses","xbox","gfn","_c6","App","_s","games","setGames","filteredGames","setFilteredGames","isLoading","setIsLoading","selectedGame","setSelectedGame","showSettings","setShowSettings","searchQuery","setSearchQuery","focusedIndex","setFocusedIndex","isGridFocused","setIsGridFocused","setGamepadConnected","gridRef","searchInputRef","gamepadRef","prevButtonsRef","tabButtonsRef","tabs","key","label","action","getActiveTabIndex","navigateTabs","direction","currentIndex","newIndex","length","loadGames","data","error","result","filter","g","matchesService","matchesSearch","toLowerCase","includes","sort","a","b","localeCompare","prev","Math","min","find","id","current","cards","querySelectorAll","scrollIntoView","behavior","block","inline","handleLaunch","directLaunch","handleNavigation","document","activeElement","total","gridWidth","style","getComputedStyle","columns","getPropertyValue","split","next","animationFrameId","pollGamepad","gamepads","navigator","getGamepads","gamepad","buttons","prevButtons","forEach","button","index","pressed","value","handleGamepadInput","axes","DEAD_ZONE","requestAnimationFrame","handleGamepadConnected","handleGamepadDisconnected","addEventListener","cancelAnimationFrame","removeEventListener","buttonIndex","isTypingInSearch","gameInFocus","blur","focus","handleKeyDown","preventDefault","replace","toUpperCase","themeClasses","cardBase","background","backgroundSize","backgroundImage","ref","type","placeholder","onChange","onFocus","onBlur","pointerEvents","map","isVisuallyActive","dimClass","activeClasses","badgeClasses","tabIndex","onMouseEnter","backgroundPosition","serviceColor","height","_c7","$RefreshReg$"],"sources":["C:/Users/marxa/Desktop/CloudBox/cloudbox-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { \r\n  Gamepad2, \r\n  Search, \r\n  Settings, \r\n  Filter, \r\n  Monitor, \r\n  Moon, \r\n  Sun, \r\n  X,\r\n  Cloud,\r\n  ArrowDownAZ,\r\n  ArrowUpAZ,\r\n  ExternalLink,\r\n  ImageOff,\r\n  Calendar,\r\n  Layers,\r\n  Info,\r\n  Rocket,\r\n  Menu,\r\n  Loader2,\r\n  ChevronRight,\r\n  Play,\r\n  GamepadIcon\r\n} from 'lucide-react';\r\nimport { fetchGames } from './api/gameApi';\r\n\r\n// Platform Logo Components\r\nconst XboxLogo = ({ className }) => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" className={className}>\r\n      <path d=\"m24 12c0-.001 0-.001 0-.002 0-3.618-1.606-6.861-4.144-9.054l-.015-.013c-1.91 1.023-3.548 2.261-4.967 3.713l-.004.004c.044.046.087.085.131.132 3.719 4.012 7.106 9.73 6.546 12.471 1.53-1.985 2.452-4.508 2.452-7.246 0-.002 0-.004 0-.006z\"/>\r\n      <path d=\"m12.591 3.955c1.68-1.104 3.699-1.833 5.872-2.022l.048-.003c-1.837-1.21-4.09-1.929-6.511-1.929-2.171 0-4.207.579-5.962 1.591l.058-.031c.658.567 2.837.781 5.484 2.4.143.089.316.142.502.142.189 0 .365-.055.513-.149l-.004.002z\"/>\r\n      <path d=\"m9.166 6.778c.046-.049.093-.09.138-.138-1.17-1.134-2.446-2.174-3.806-3.1l-.099-.064c-.302-.221-.681-.354-1.091-.354-.146 0-.288.017-.425.049l.013-.002c-2.398 2.198-3.896 5.344-3.896 8.84 0 2.909 1.037 5.576 2.762 7.651l-.016-.020c-1.031-2.547 2.477-8.672 6.419-12.862z\"/>\r\n      <path d=\"m12.084 9.198c-3.962 3.503-9.477 8.73-8.632 11.218 2.174 2.213 5.198 3.584 8.542 3.584 3.493 0 6.637-1.496 8.826-3.883l.008-.009c.486-2.618-4.755-7.337-8.744-10.910z\"/>\r\n  </svg>\r\n);\r\n\r\nconst GfnLogo = ({ className }) => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" className={className}>\r\n      <path d=\"M8.948 8.798v-1.43a6.7 6.7 0 0 1 .424-.018c3.922-.124 6.493 3.374 6.493 3.374s-2.774 3.851-5.75 3.851c-.398 0-.787-.062-1.158-.185v-4.346c1.528.185 1.837.857 2.747 2.385l2.04-1.714s-1.492-1.952-4-1.952a6.016 6.016 0 0 0-.796.035m0-4.735v2.138l.424-.027c5.45-.185 9.01 4.47 9.01 4.47s-4.08 4.964-8.33 4.964c-.37 0-.733-.035-1.095-.097v1.325c.3.035.61.062.91.062 3.957 0 6.82-2.023 9.593-4.408.459.371 2.34 1.263 2.73 1.652-2.633 2.208-8.772 3.984-12.253 3.984-.335 0-.653-.018-.971-.053v1.864H24V4.063zm0 10.326v1.131c-3.657-.654-4.673-4.46-4.673-4.46s1.758-1.944 4.673-2.262v1.237H8.94c-1.528-.186-2.73 1.245-2.73 1.245s.68 2.412 2.739 3.11M2.456 10.9s2.164-3.197 6.5-3.533V6.201C4.153 6.59 0 10.653 0 10.653s2.35 6.802 8.948 7.42v-1.237c-4.84-.6-6.492-5.936-6.492-5.936z\"/>\r\n  </svg>\r\n);\r\n\r\n// Pulsing Glow Styles\r\nconst PulsingGlowStyles = () => (\r\n    <style dangerouslySetInnerHTML={{ __html: `\r\n        @keyframes pulse-glow {\r\n            0%, 100% { \r\n                box-shadow: \r\n                    0 0 5px rgba(99, 102, 241, 0.3), \r\n                    0 0 10px rgba(99, 102, 241, 0.15); \r\n            }\r\n            50% { \r\n                box-shadow: \r\n                    0 0 10px rgba(129, 140, 248, 0.5), \r\n                    0 0 20px rgba(129, 140, 248, 0.3); \r\n            }\r\n        }\r\n        \r\n        @keyframes wave-move {\r\n          0% {\r\n            background-position: 0% 50%;\r\n          }\r\n          100% {\r\n            background-position: 200% 50%;\r\n          }\r\n        }\r\n        \r\n        @keyframes launch-pulse {\r\n          0% {\r\n            transform: scale(1);\r\n            box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7);\r\n          }\r\n          70% {\r\n            transform: scale(1.02);\r\n            box-shadow: 0 0 0 10px rgba(99, 102, 241, 0);\r\n          }\r\n          100% {\r\n            transform: scale(1);\r\n            box-shadow: 0 0 0 0 rgba(99, 102, 241, 0);\r\n          }\r\n        }\r\n        \r\n        @keyframes float {\r\n          0%, 100% {\r\n            transform: translateY(0px);\r\n          }\r\n          50% {\r\n            transform: translateY(-5px);\r\n          }\r\n        }\r\n        \r\n        @keyframes fade-in {\r\n          from {\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            opacity: 1;\r\n          }\r\n        }\r\n        \r\n        .is-visually-active {\r\n            transform: scale(1.02) !important;\r\n            z-index: 20; \r\n            border-color: #6366F1;\r\n            animation: pulse-glow 2s infinite alternate ease-in-out;\r\n        }\r\n        \r\n        .wave-animation {\r\n          animation: wave-move 15s linear infinite;\r\n        }\r\n        \r\n        .float-animation {\r\n          animation: float 6s infinite ease-in-out;\r\n        }\r\n        \r\n        .launch-pulse {\r\n          animation: launch-pulse 2s infinite;\r\n        }\r\n        \r\n        .fade-in {\r\n          animation: fade-in 0.5s ease-out;\r\n        }\r\n        \r\n        @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        .animate-spin-slow {\r\n            animation: spin 3s linear infinite;\r\n        }\r\n        \r\n        /* Hide scrollbar for Chrome, Safari and Opera */\r\n        .no-scrollbar::-webkit-scrollbar {\r\n          display: none;\r\n        }\r\n        \r\n        /* Hide scrollbar for IE, Edge and Firefox */\r\n        .no-scrollbar {\r\n          -ms-overflow-style: none;  /* IE and Edge */\r\n          scrollbar-width: none;  /* Firefox */\r\n        }\r\n    `}} />\r\n);\r\n\r\n// Enhanced Controller Guide - SIMPLIFIED\r\nconst ControllerGuide = ({ darkMode, gamepadConnected }) => {\r\n    const buttonClass = \"w-7 h-7 rounded-full flex items-center justify-center font-bold text-sm border-2 relative overflow-hidden group\";\r\n    const buttonBorder = darkMode \r\n      ? 'border-white/60 text-white bg-gradient-to-br from-slate-800 to-slate-900' \r\n      : 'border-gray-500 text-gray-800 bg-gradient-to-br from-white to-gray-100';\r\n    \r\n    return (\r\n        <div className={`fixed bottom-6 right-6 z-50 p-4 rounded-2xl backdrop-blur-xl border-2 ${darkMode \r\n          ? 'border-white/10 bg-slate-900/80 text-white shadow-2xl' \r\n          : 'border-gray-300/50 bg-white/80 text-gray-900 shadow-2xl'} transition-all duration-300`}>\r\n            \r\n            <div className=\"flex flex-col gap-2.5 text-sm relative z-10\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"flex items-center gap-2.5\">\r\n                        <span className={`${buttonClass} ${buttonBorder} shadow-inner group-hover:scale-110 transition-all duration-200`}>\r\n                            X\r\n                        </span>\r\n                        <span className=\"font-medium min-w-[60px]\">Launch</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2.5\">\r\n                        <span className={`${buttonClass} ${buttonBorder} shadow-inner group-hover:scale-110 transition-all duration-200`}>\r\n                           <Menu className=\"w-4 h-4\" />\r\n                        </span>\r\n                        <span className=\"font-medium min-w-[60px]\">Menu</span>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"h-px w-full bg-gradient-to-r from-transparent via-white/20 to-transparent\"></div>\r\n                \r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"flex items-center gap-2.5\">\r\n                        <span className={`${buttonClass} ${buttonBorder} shadow-inner group-hover:scale-110 transition-all duration-200`}>\r\n                            A\r\n                        </span>\r\n                        <span className=\"font-medium min-w-[60px]\">Select</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2.5\">\r\n                        <span className={`${buttonClass} ${buttonBorder} shadow-inner group-hover:scale-110 transition-all duration-200`}>\r\n                            Y\r\n                        </span>\r\n                        <span className=\"font-medium min-w-[60px]\">Search</span>\r\n                    </div>\r\n                </div>\r\n                \r\n                {/* LB/RB Navigation Hint */}\r\n                {gamepadConnected && (\r\n                    <div className=\"mt-2 flex items-center justify-center gap-2 text-xs opacity-60\">\r\n                        <span className=\"px-2 py-0.5 rounded bg-white/10\">LB</span>\r\n                        <span className=\"px-2 py-0.5 rounded bg-white/10\">RB</span>\r\n                        <span className=\"text-xs\">Navigate tabs</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Game Detail Modal\r\nconst GameDetailModal = ({ game, onClose, onLaunch, darkMode }) => {\r\n    if (!game) return null;\r\n\r\n    const modalContentClasses = darkMode \r\n        ? 'bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700' \r\n        : 'bg-gradient-to-br from-white to-gray-50 text-gray-900 border border-gray-200 shadow-2xl';\r\n\r\n    return (\r\n        <div \r\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 transition-opacity duration-300 overflow-y-auto p-4\"\r\n            onClick={onClose}\r\n        >\r\n            <div className=\"absolute inset-0 bg-black/60\" onClick={onClose} />\r\n            <div \r\n                className={`relative w-full max-w-2xl max-h-[90vh] rounded-2xl p-6 transition-transform duration-300 transform scale-100 ${modalContentClasses} flex flex-col`}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex justify-between items-start mb-6 flex-shrink-0\">\r\n                    <div className=\"flex flex-col\">\r\n                        <h2 className=\"text-3xl font-extrabold leading-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n                            {game.title}\r\n                        </h2>\r\n                    </div>\r\n                    <button onClick={onClose} className={`p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-200'}`}>\r\n                        <X className=\"w-6 h-6\" />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"relative flex-grow overflow-y-auto pr-2\">\r\n                    <div className=\"flex flex-col md:flex-row gap-6\">\r\n                        <div className=\"flex-shrink-0 mb-4 md:mb-0 rounded-xl overflow-hidden shadow-xl aspect-[2/3] w-full max-w-[150px] self-center md:self-start border-4 border-white/20\">\r\n                            <img \r\n                                src={game.imageUrl} \r\n                                alt={`${game.title} cover`} \r\n                                className=\"w-full h-full object-cover\"\r\n                                onError={(e) => {\r\n                                    e.target.onerror = null;\r\n                                    const parent = e.target.parentNode;\r\n                                    parent.innerHTML = `\r\n                                        <div class=\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br ${game.color} p-4\">\r\n                                            <ImageOff class=\"w-10 h-10 text-white/50 mb-2\" />\r\n                                            <span class=\"text-white/70 text-sm text-center\">${game.title}</span>\r\n                                        </div>\r\n                                    `;\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"flex-1\">\r\n                            <div className=\"flex flex-wrap gap-2 mb-6\">\r\n                                <div className={`flex items-center gap-1 text-sm px-3 py-1 rounded-full ${darkMode ? 'bg-slate-700/80' : 'bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border border-blue-200'}`}>\r\n                                    <Calendar className=\"w-4 h-4\" />\r\n                                    <span>{game.year}</span>\r\n                                </div>\r\n                                <div className={`flex items-center gap-1 text-sm px-3 py-1 rounded-full ${darkMode ? 'bg-slate-700/80' : 'bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 border border-purple-200'}`}>\r\n                                    <Layers className=\"w-4 h-4\" />\r\n                                    <span>{game.genre}</span>\r\n                                </div>\r\n                                <div className={`flex items-center gap-1 text-sm px-3 py-1 rounded-full ${game.service === 'xbox' ? 'bg-gradient-to-r from-[#107C10]/90 to-[#0e6e0e]/90' : 'bg-gradient-to-r from-[#76B900]/90 to-[#68a500]/90'} text-white shadow-md`}>\r\n                                    {game.service === 'xbox' ? <XboxLogo className=\"w-4 h-4\" /> : <GfnLogo className=\"w-4 h-4\" />}\r\n                                    <span>{game.service === 'xbox' ? 'Xbox Cloud' : 'GeForce NOW'}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <h3 className=\"text-lg font-semibold mb-2 opacity-70\">About the Game</h3>\r\n                            <p className=\"text-sm leading-relaxed mb-8 opacity-90\">{game.description}</p>\r\n                            \r\n                            <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n                                <div>\r\n                                    <h4 className=\"text-sm font-semibold mb-1 opacity-70\">Publisher</h4>\r\n                                    <p className={`text-sm ${darkMode ? 'text-white/80' : 'text-gray-700'}`}>{game.publisher}</p>\r\n                                </div>\r\n                                <div>\r\n                                    <h4 className=\"text-sm font-semibold mb-1 opacity-70\">Release Year</h4>\r\n                                    <p className={`text-sm ${darkMode ? 'text-white/80' : 'text-gray-700'}`}>{game.year}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex-shrink-0 pt-4 flex gap-4\">\r\n                    <button \r\n                        onClick={() => {\r\n                            console.log('Launching game:', game.title, 'to:', game.url);\r\n                            if (game.url && game.url !== '#') {\r\n                                window.open(game.url, '_blank', 'noopener,noreferrer');\r\n                            }\r\n                            onClose();\r\n                        }}\r\n                        className=\"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-lg font-bold text-white bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-lg shadow-indigo-500/30 transform hover:scale-[1.02] hover:shadow-indigo-500/50 active:scale-[0.98] launch-pulse\"\r\n                    >\r\n                        <Play className=\"w-5 h-5\" />\r\n                        Launch Now\r\n                        <ChevronRight className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Settings Modal\r\nconst SettingsModal = ({ show, onClose, darkMode, setDarkMode, services, setServices, sortAsc, setSortAsc }) => {\r\n    if (!show) return null;\r\n\r\n    const modalClasses = darkMode \r\n        ? 'bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700' \r\n        : 'bg-gradient-to-br from-white to-gray-50 text-gray-900 border border-gray-200 shadow-2xl';\r\n\r\n    return (\r\n        <div \r\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300\"\r\n            onClick={onClose}\r\n        >\r\n            <div \r\n                className={`w-full max-w-lg rounded-2xl p-6 transition-transform duration-300 transform scale-100 ${modalClasses}`}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h2 className=\"text-2xl font-bold flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n                        <Settings className=\"w-6 h-6\" />\r\n                        CloudBox Settings\r\n                    </h2>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className={`p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-200'}`}\r\n                    >\r\n                        <X className=\"w-6 h-6\" />\r\n                    </button>\r\n                </div>\r\n                \r\n                <div className={`mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100'}`}>\r\n                    <h3 className=\"text-lg font-semibold mb-2\">Theme</h3>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <span className={darkMode ? 'text-white/80' : 'text-gray-700'}>Toggle Dark Mode</span>\r\n                        <button \r\n                            onClick={() => setDarkMode(!darkMode)}\r\n                            className={`flex items-center p-2 rounded-full transition-all ${darkMode ? 'bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700' : 'bg-gradient-to-r from-gray-200 to-gray-300 text-gray-800 hover:from-gray-300 hover:to-gray-400 shadow-sm'}`}\r\n                        >\r\n                            {darkMode ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\r\n                            <span className=\"ml-2 text-sm font-medium\">{darkMode ? 'Light Mode' : 'Dark Mode'}</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100'}`}>\r\n                    <h3 className=\"text-lg font-semibold mb-2 flex items-center gap-2\"><Filter className=\"w-5 h-5\" /> Filters</h3>\r\n                    <div className=\"flex gap-4\">\r\n                        <button\r\n                            onClick={() => setServices({ xbox: true, gfn: true })}\r\n                            className={`flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${services.xbox \r\n                                ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white shadow-md' \r\n                                : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                        >\r\n                            <XboxLogo className=\"w-5 h-5 mr-2\" />\r\n                            Xbox Cloud\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setServices({ xbox: false, gfn: true })}\r\n                            className={`flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${services.gfn \r\n                                ? 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white shadow-md' \r\n                                : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                        >\r\n                            <GfnLogo className=\"w-5 h-5 mr-2\" />\r\n                            GeForce NOW\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-green-50 to-emerald-50 border border-green-100'}`}>\r\n                    <h3 className=\"text-lg font-semibold mb-2 flex items-center gap-2\"><ArrowDownAZ className=\"w-5 h-5\" /> Sorting</h3>\r\n                    <div className=\"flex gap-4\">\r\n                        <button\r\n                            onClick={() => setSortAsc(true)}\r\n                            className={`flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${sortAsc\r\n                                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' \r\n                                : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                        >\r\n                            <ArrowUpAZ className=\"w-5 h-5 mr-2\" />\r\n                            A-Z (Ascending)\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setSortAsc(false)}\r\n                            className={`flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${!sortAsc\r\n                                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' \r\n                                : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                        >\r\n                            <ArrowDownAZ className=\"w-5 h-5 mr-2\" />\r\n                            Z-A (Descending)\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Main App Component\r\nexport default function App() {\r\n  const [games, setGames] = useState([]);\r\n  const [filteredGames, setFilteredGames] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedGame, setSelectedGame] = useState(null);\r\n  const [darkMode, setDarkMode] = useState(true);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [services, setServices] = useState({ xbox: true, gfn: true });\r\n  const [sortAsc, setSortAsc] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [focusedIndex, setFocusedIndex] = useState(0);\r\n  const [isGridFocused, setIsGridFocused] = useState(true);\r\n  const [gamepadConnected, setGamepadConnected] = useState(false);\r\n  const gridRef = useRef(null);\r\n  const searchInputRef = useRef(null);\r\n  const gamepadRef = useRef(null);\r\n  const prevButtonsRef = useRef([]);\r\n  const tabButtonsRef = useRef([]);\r\n\r\n  // Track available tabs for controller navigation\r\n  const tabs = [\r\n    { key: 'all', label: 'All Games', action: () => setServices({ xbox: true, gfn: true }) },\r\n    { key: 'gfn', label: 'GFN', action: () => setServices({ xbox: false, gfn: true }) },\r\n    { key: 'xbox', label: 'Xbox', action: () => setServices({ xbox: true, gfn: false }) }\r\n  ];\r\n\r\n  // Get current active tab index\r\n  const getActiveTabIndex = () => {\r\n    if (services.xbox && services.gfn) return 0; // All Games\r\n    if (!services.xbox && services.gfn) return 1; // GFN\r\n    if (services.xbox && !services.gfn) return 2; // Xbox\r\n    return 0;\r\n  };\r\n\r\n  // Navigate tabs with controller\r\n  const navigateTabs = useCallback((direction) => {\r\n    const currentIndex = getActiveTabIndex();\r\n    let newIndex;\r\n    \r\n    if (direction === 'left') {\r\n      newIndex = currentIndex > 0 ? currentIndex - 1 : tabs.length - 1;\r\n    } else {\r\n      newIndex = currentIndex < tabs.length - 1 ? currentIndex + 1 : 0;\r\n    }\r\n    \r\n    tabs[newIndex].action();\r\n  }, [services, tabs]);\r\n\r\n  // Fetch games on component mount\r\n  useEffect(() => {\r\n    const loadGames = async () => {\r\n      try {\r\n        const data = await fetchGames();\r\n        console.log('Loaded games:', data.length);\r\n        setGames(data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch games:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadGames();\r\n  }, []);\r\n\r\n  // Filter and sort games\r\n  useEffect(() => {\r\n    if (isLoading) return;\r\n\r\n    console.log('Filtering games with services:', services);\r\n\r\n    let result = games.filter(g => {\r\n      const matchesService = (g.service === 'xbox' && services.xbox) || \r\n                            (g.service === 'gfn' && services.gfn);\r\n      const matchesSearch = searchQuery ? \r\n        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        g.genre.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        (g.publisher && g.publisher.toLowerCase().includes(searchQuery.toLowerCase()))\r\n        : true;\r\n      \r\n      return matchesService && matchesSearch;\r\n    });\r\n\r\n    console.log('Filtered to', result.length, 'games');\r\n\r\n    result.sort((a, b) => {\r\n      return sortAsc ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title);\r\n    });\r\n\r\n    setFilteredGames(result);\r\n    \r\n    if (result.length > 0) {\r\n        setFocusedIndex(prev => Math.min(prev, result.length - 1));\r\n    } else {\r\n        setFocusedIndex(0);\r\n    }\r\n    \r\n    if (selectedGame && !result.find(g => g.id === selectedGame.id)) {\r\n        setSelectedGame(null);\r\n    }\r\n  }, [games, services, sortAsc, searchQuery, selectedGame, isLoading]);\r\n\r\n  // Scroll into view\r\n  useEffect(() => {\r\n    if (isGridFocused && gridRef.current && filteredGames.length > 0) {\r\n      const cards = gridRef.current.querySelectorAll('[data-game-card]');\r\n      if (cards[focusedIndex]) {\r\n        cards[focusedIndex].scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });\r\n      }\r\n    }\r\n  }, [focusedIndex, isGridFocused, filteredGames.length]);\r\n\r\n  // Launch handler\r\n  const handleLaunch = useCallback((game, directLaunch = false) => {\r\n    if (!game) return;\r\n    \r\n    if (directLaunch) {\r\n        console.log('Launching game:', game.title, 'to:', game.url);\r\n        if (game.url && game.url !== '#') {\r\n            window.open(game.url, '_blank', 'noopener,noreferrer');\r\n        }\r\n        setSelectedGame(null);\r\n        return;\r\n    }\r\n\r\n    if (!selectedGame || selectedGame.id !== game.id) {\r\n        setSelectedGame(game);\r\n        return;\r\n    }\r\n  }, [selectedGame]);\r\n\r\n  // Navigation handler\r\n  const handleNavigation = useCallback((direction) => {\r\n    if (showSettings || selectedGame || document.activeElement === searchInputRef.current) return;\r\n    if (!isGridFocused) setIsGridFocused(true);\r\n\r\n    const total = filteredGames.length;\r\n    if (total === 0) return;\r\n\r\n    let gridWidth = 4;\r\n    if (gridRef.current) {\r\n        const style = window.getComputedStyle(gridRef.current);\r\n        const columns = style.getPropertyValue('grid-template-columns').split(' ').length;\r\n        if (columns > 0) gridWidth = columns;\r\n    }\r\n    \r\n    setFocusedIndex(prev => {\r\n      let next = prev;\r\n      switch (direction) {\r\n        case 'UP': next = prev - gridWidth; break;\r\n        case 'DOWN': next = prev + gridWidth; break;\r\n        case 'LEFT': next = prev - 1; break;\r\n        case 'RIGHT': next = prev + 1; break;\r\n        default: break;\r\n      }\r\n      \r\n      if (next < 0) next = 0;\r\n      if (next >= total) next = total - 1;\r\n      return next;\r\n    });\r\n  }, [filteredGames, isGridFocused, showSettings, selectedGame]);\r\n\r\n  // Gamepad polling\r\n  useEffect(() => {\r\n    let animationFrameId;\r\n    \r\n    const pollGamepad = () => {\r\n      const gamepads = navigator.getGamepads();\r\n      const gamepad = gamepads[0]; // Get first connected gamepad\r\n      \r\n      if (gamepad) {\r\n        if (!gamepadConnected) {\r\n          setGamepadConnected(true);\r\n          console.log('Gamepad connected:', gamepad.id);\r\n        }\r\n        \r\n        gamepadRef.current = gamepad;\r\n        \r\n        // Check buttons\r\n        const buttons = gamepad.buttons;\r\n        const prevButtons = prevButtonsRef.current;\r\n        \r\n        buttons.forEach((button, index) => {\r\n          const pressed = button.pressed || button.value > 0.5;\r\n          \r\n          // Only trigger on button press (not release)\r\n          if (pressed && (!prevButtons[index] || !prevButtons[index].pressed)) {\r\n            handleGamepadInput(index);\r\n          }\r\n          \r\n          // Update previous button state\r\n          if (!prevButtons[index]) {\r\n            prevButtons[index] = { pressed };\r\n          } else {\r\n            prevButtons[index].pressed = pressed;\r\n          }\r\n        });\r\n        \r\n        // Check axes for D-pad/joystick\r\n        const axes = gamepad.axes;\r\n        const DEAD_ZONE = 0.5;\r\n        \r\n        // Left/Right on axis 0\r\n        if (axes[0] < -DEAD_ZONE) {\r\n          handleNavigation('LEFT');\r\n        } else if (axes[0] > DEAD_ZONE) {\r\n          handleNavigation('RIGHT');\r\n        }\r\n        \r\n        // Up/Down on axis 1\r\n        if (axes[1] < -DEAD_ZONE) {\r\n          handleNavigation('UP');\r\n        } else if (axes[1] > DEAD_ZONE) {\r\n          handleNavigation('DOWN');\r\n        }\r\n        \r\n      } else {\r\n        if (gamepadConnected) {\r\n          setGamepadConnected(false);\r\n          gamepadRef.current = null;\r\n        }\r\n      }\r\n      \r\n      animationFrameId = requestAnimationFrame(pollGamepad);\r\n    };\r\n    \r\n    animationFrameId = requestAnimationFrame(pollGamepad);\r\n    \r\n    // Gamepad connection events\r\n    const handleGamepadConnected = (e) => {\r\n      console.log('Gamepad connected:', e.gamepad.id);\r\n      setGamepadConnected(true);\r\n      gamepadRef.current = e.gamepad;\r\n    };\r\n    \r\n    const handleGamepadDisconnected = (e) => {\r\n      console.log('Gamepad disconnected:', e.gamepad.id);\r\n      setGamepadConnected(false);\r\n      gamepadRef.current = null;\r\n    };\r\n    \r\n    window.addEventListener('gamepadconnected', handleGamepadConnected);\r\n    window.addEventListener('gamepaddisconnected', handleGamepadDisconnected);\r\n    \r\n    return () => {\r\n      cancelAnimationFrame(animationFrameId);\r\n      window.removeEventListener('gamepadconnected', handleGamepadConnected);\r\n      window.removeEventListener('gamepaddisconnected', handleGamepadDisconnected);\r\n    };\r\n  }, [gamepadConnected, handleNavigation]);\r\n\r\n  // Gamepad input handler - UPDATED with LB/RB support\r\n  const handleGamepadInput = useCallback((buttonIndex) => {\r\n    // Don't handle gamepad input when typing in search\r\n    const isTypingInSearch = document.activeElement === searchInputRef.current;\r\n    if (isTypingInSearch && buttonIndex !== 1) return; // Only B button works when typing\r\n    \r\n    const gameInFocus = filteredGames[focusedIndex];\r\n    \r\n    switch(buttonIndex) {\r\n      case 0: // A button (Xbox: Bottom, PlayStation: Cross)\r\n        if (selectedGame) {\r\n          handleLaunch(selectedGame, true);\r\n        } else if (gameInFocus) {\r\n          setSelectedGame(gameInFocus);\r\n        }\r\n        break;\r\n        \r\n      case 1: // B button (Xbox: Right, PlayStation: Circle)\r\n        if (selectedGame) {\r\n          setSelectedGame(null);\r\n        } else if (showSettings) {\r\n          setShowSettings(false);\r\n        } else if (isTypingInSearch) {\r\n          searchInputRef.current.blur();\r\n          setIsGridFocused(true);\r\n        }\r\n        break;\r\n        \r\n      case 2: // X button (Xbox: Left, PlayStation: Square)\r\n        if (selectedGame) {\r\n          handleLaunch(selectedGame, true);\r\n        } else if (gameInFocus) {\r\n          handleLaunch(gameInFocus, true);\r\n        }\r\n        break;\r\n        \r\n      case 3: // Y button (Xbox: Top, PlayStation: Triangle)\r\n        if (!selectedGame && !showSettings && searchInputRef.current) {\r\n          searchInputRef.current.focus();\r\n          setIsGridFocused(false);\r\n        }\r\n        break;\r\n        \r\n      case 4: // LB button - Navigate tabs left\r\n        if (!selectedGame && !showSettings && !isTypingInSearch) {\r\n          navigateTabs('left');\r\n        }\r\n        break;\r\n        \r\n      case 5: // RB button - Navigate tabs right\r\n        if (!selectedGame && !showSettings && !isTypingInSearch) {\r\n          navigateTabs('right');\r\n        }\r\n        break;\r\n        \r\n      case 9: // Start button\r\n        if (!selectedGame && !isTypingInSearch) {\r\n          setShowSettings(true);\r\n        }\r\n        break;\r\n        \r\n      case 8: // Select button\r\n        // Optional: Could be used for something else\r\n        break;\r\n        \r\n      case 12: // D-pad up\r\n        if (!selectedGame && !showSettings) {\r\n          handleNavigation('UP');\r\n        }\r\n        break;\r\n        \r\n      case 13: // D-pad down\r\n        if (!selectedGame && !showSettings) {\r\n          handleNavigation('DOWN');\r\n        }\r\n        break;\r\n        \r\n      case 14: // D-pad left\r\n        if (!selectedGame && !showSettings) {\r\n          handleNavigation('LEFT');\r\n        }\r\n        break;\r\n        \r\n      case 15: // D-pad right\r\n        if (!selectedGame && !showSettings) {\r\n          handleNavigation('RIGHT');\r\n        }\r\n        break;\r\n    }\r\n  }, [selectedGame, showSettings, filteredGames, focusedIndex, handleLaunch, handleNavigation, navigateTabs]);\r\n\r\n  // Keyboard listeners - Updated to work alongside gamepad\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      // Don't handle keyboard if gamepad is connected and user is using it\r\n      // But still allow Escape and typing in search\r\n      if (gamepadConnected && \r\n          !['Escape', 'b', 'B', 'Tab', 'Enter', 'q', 'e'].includes(e.key) && \r\n          document.activeElement !== searchInputRef.current) {\r\n        return;\r\n      }\r\n\r\n      // Handle Escape/B for closing modals\r\n      if (e.key === 'Escape' || e.key.toLowerCase() === 'b') {\r\n        e.preventDefault();\r\n        if (selectedGame) {\r\n          setSelectedGame(null);\r\n        } else if (showSettings) {\r\n          setShowSettings(false);\r\n        } else if (document.activeElement === searchInputRef.current) {\r\n          searchInputRef.current.blur();\r\n          setIsGridFocused(true);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Check if user is typing in search input\r\n      const isTypingInSearch = document.activeElement === searchInputRef.current;\r\n      \r\n      // Handle search focus (Y button)\r\n      if (e.key.toLowerCase() === 'y' && !isTypingInSearch && !selectedGame && !showSettings) {\r\n        e.preventDefault();\r\n        if (searchInputRef.current) {\r\n          searchInputRef.current.focus();\r\n          setIsGridFocused(false);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Handle LB/Q and RB/E for tab navigation\r\n      if ((e.key === 'q' || e.key === 'Q') && !isTypingInSearch && !selectedGame && !showSettings) {\r\n        e.preventDefault();\r\n        navigateTabs('left');\r\n        return;\r\n      }\r\n      \r\n      if ((e.key === 'e' || e.key === 'E') && !isTypingInSearch && !selectedGame && !showSettings) {\r\n        e.preventDefault();\r\n        navigateTabs('right');\r\n        return;\r\n      }\r\n\r\n      // Handle settings menu (Start button)\r\n      if ((e.key === 'Menu' || e.key === 'ContextMenu') && !isTypingInSearch && !selectedGame) {\r\n        e.preventDefault();\r\n        setShowSettings(true);\r\n        return;\r\n      }\r\n\r\n      // If typing in search, don't handle gamepad controls\r\n      if (isTypingInSearch) {\r\n        return;\r\n      }\r\n\r\n      // Prevent default for navigation keys only when not typing\r\n      if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', ' ', 'Enter'].includes(e.key)) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      // Handle Start/Enter for settings only when grid is focused\r\n      if ((e.key === 'Enter' && !selectedGame && !showSettings && isGridFocused)) {\r\n        e.preventDefault();\r\n        setShowSettings(true);\r\n        return;\r\n      }\r\n      \r\n      if (showSettings) return;\r\n\r\n      const gameInFocus = filteredGames[focusedIndex];\r\n\r\n      switch(e.key) {\r\n        case 'ArrowUp': \r\n        case 'ArrowDown': \r\n        case 'ArrowLeft': \r\n        case 'ArrowRight': \r\n          if (!selectedGame) handleNavigation(e.key.replace('Arrow', '').toUpperCase());\r\n          break;\r\n        case 'Enter': \r\n          if (selectedGame) {\r\n            handleLaunch(selectedGame, true);\r\n          } else if (gameInFocus) {\r\n            setSelectedGame(gameInFocus);\r\n          }\r\n          break;\r\n        case ' ': // Spacebar: Launch directly\r\n          if (selectedGame) {\r\n            handleLaunch(selectedGame, true);\r\n          } else if (gameInFocus) {\r\n            handleLaunch(gameInFocus, true);\r\n          }\r\n          break;\r\n        case 'x': // X button: Launch directly\r\n        case 'X': // X button (caps)\r\n          if (selectedGame) {\r\n            handleLaunch(selectedGame, true);\r\n          } else if (gameInFocus) {\r\n            handleLaunch(gameInFocus, true);\r\n          }\r\n          break;\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [handleNavigation, showSettings, filteredGames, focusedIndex, selectedGame, handleLaunch, isGridFocused, gamepadConnected, navigateTabs]);\r\n\r\n  // Updated theme - just text colors\r\n  const themeClasses = darkMode \r\n    ? \"text-white\" \r\n    : \"text-gray-900\";\r\n  \r\n  const cardBase = \"relative rounded-xl overflow-hidden shadow-lg transition-all duration-300 transform aspect-[2/3] flex flex-col justify-end group cursor-pointer border-2 border-transparent hover:border-white/20\";\r\n\r\n  // Loading screen\r\n  if (isLoading) {\r\n    return (\r\n      <div className={`w-full min-h-screen flex flex-col items-center justify-center font-sans bg-gradient-to-br from-slate-900 to-slate-950 text-white transition-colors duration-300 overflow-hidden fade-in`}>\r\n        <PulsingGlowStyles />\r\n        <Loader2 className=\"w-16 h-16 text-indigo-500 animate-spin-slow\" />\r\n        <h2 className=\"text-xl font-semibold mt-4\">Loading CloudBox Games...</h2>\r\n        <p className=\"opacity-70 mt-2\">Fetching games from the cloud</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main render\r\n  return (\r\n    <div className={`w-full min-h-screen font-sans ${themeClasses} transition-colors duration-300 overflow-x-hidden no-scrollbar fade-in`}>\r\n      <PulsingGlowStyles />\r\n      \r\n      {/* Clean dark blue background with subtle wave */}\r\n      <div className=\"fixed inset-0 z-0 overflow-hidden bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900\">\r\n        {/* Enhanced wave animation */}\r\n        <div className=\"absolute inset-0 wave-animation\"\r\n          style={{\r\n            background: `linear-gradient(\r\n              90deg,\r\n              transparent,\r\n              rgba(59, 130, 246, 0.15),\r\n              rgba(99, 102, 241, 0.25),\r\n              rgba(139, 92, 246, 0.15),\r\n              transparent\r\n            )`,\r\n            backgroundSize: '200% 100%',\r\n          }}\r\n        ></div>\r\n        \r\n        {/* Subtle vertical scan lines for retro feel */}\r\n        <div className=\"absolute inset-0 opacity-5\"\r\n          style={{\r\n            backgroundImage: `linear-gradient(\r\n              to bottom,\r\n              transparent 95%,\r\n              rgba(255, 255, 255, 0.1) 100%\r\n            )`,\r\n            backgroundSize: '100% 4px',\r\n          }}\r\n        ></div>\r\n      </div>\r\n      \r\n      {/* Header with everything in one line */}\r\n      <header className={`fixed top-0 left-0 right-0 z-40 px-6 py-4 backdrop-blur-md flex items-center justify-between ${darkMode ? 'bg-slate-900/80 border-b border-slate-800' : 'bg-white/80 border-b border-gray-200 shadow-sm'}`}>\r\n        {/* Left side: Logo and filter buttons */}\r\n        <div className=\"flex items-center gap-6\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"bg-gradient-to-br from-blue-500 to-purple-600 p-2 rounded-xl shadow-lg float-animation\">\r\n              <Cloud className=\"text-white w-6 h-6\" />\r\n            </div>\r\n            <h1 className=\"text-2xl font-bold tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n              CloudBox\r\n            </h1>\r\n          </div>\r\n          \r\n          {/* Filter Buttons in same line - Ref for controller navigation */}\r\n          <div className=\"flex gap-2\" ref={tabButtonsRef}>\r\n            <button \r\n              onClick={() => setServices({ xbox: true, gfn: true })}\r\n              className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${services.xbox && services.gfn \r\n                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' \r\n                : darkMode \r\n                  ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' \r\n                  : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`}\r\n            >\r\n              All Games\r\n            </button>\r\n            <button \r\n              onClick={() => setServices({ xbox: false, gfn: true })}\r\n              className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${services.gfn && !services.xbox \r\n                ? 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white shadow-md' \r\n                : darkMode \r\n                  ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' \r\n                  : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`}\r\n            >\r\n              <GfnLogo className=\"w-3.5 h-3.5\" />\r\n              GFN\r\n            </button>\r\n            <button \r\n              onClick={() => setServices({ xbox: true, gfn: false })}\r\n              className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${services.xbox && !services.gfn \r\n                ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white shadow-md' \r\n                : darkMode \r\n                  ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' \r\n                  : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`}\r\n            >\r\n              <XboxLogo className=\"w-3.5 h-3.5\" />\r\n              Xbox\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right side: Search and settings */}\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className={`flex items-center px-3 py-1.5 rounded-full border transition-all ${darkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-300 shadow-sm'}`}>\r\n            <Search className={`w-4 h-4 mr-2 ${darkMode ? 'text-slate-400' : 'text-gray-400'}`} />\r\n            <input \r\n              ref={searchInputRef}\r\n              type=\"text\" \r\n              placeholder=\"Search games...\" \r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              onFocus={() => setIsGridFocused(false)}\r\n              onBlur={() => setIsGridFocused(true)}\r\n              className={`bg-transparent border-none outline-none text-sm w-40 ${darkMode ? 'placeholder-slate-400' : 'placeholder-gray-500'}`}\r\n            />\r\n            {searchQuery && (\r\n              <button onClick={() => setSearchQuery(\"\")}>\r\n                <X className={`w-4 h-4 ${darkMode ? 'text-slate-400 hover:text-white' : 'text-gray-400 hover:text-gray-600'}`} />\r\n              </button>\r\n            )}\r\n          </div>\r\n          <button \r\n            onClick={() => setShowSettings(true)}\r\n            className={`p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-800' : 'hover:bg-gray-200 shadow-sm'}`}\r\n          >\r\n            <Settings className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Grid */}\r\n      <main \r\n        className=\"px-6 pb-12 container max-w-7xl mx-auto transition-filter duration-300 pt-20 no-scrollbar relative z-10\" \r\n        style={{ \r\n            filter: (selectedGame || showSettings) ? 'blur(2px)' : 'none',\r\n            pointerEvents: (selectedGame || showSettings) ? 'none' : 'auto' \r\n        }}\r\n      >\r\n        {filteredGames.length === 0 ? (\r\n          <div className=\"text-center mt-20 opacity-50 flex flex-col items-center\">\r\n            <Gamepad2 className={`w-16 h-16 mb-4 ${darkMode ? 'text-slate-600' : 'text-gray-400'}`} />\r\n            <p className=\"text-xl\">No games found with the current filters</p>\r\n            <p className=\"text-sm opacity-70 mt-2\">Try changing your search or enabling more services</p>\r\n          </div>\r\n        ) : (\r\n          <div \r\n            ref={gridRef}\r\n            className=\"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-6 transition-all duration-300\"\r\n          >\r\n            {filteredGames.map((game, index) => {\r\n              const isVisuallyActive = index === focusedIndex && !selectedGame && !showSettings;\r\n              const dimClass = (selectedGame || showSettings) ? 'opacity-60' : '';\r\n              const activeClasses = isVisuallyActive ? 'is-visually-active' : 'opacity-90 hover:opacity-100';\r\n              const badgeClasses = game.service === 'xbox' \r\n                ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white' \r\n                : 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white';\r\n\r\n              return (\r\n                <div \r\n                  key={game.id}\r\n                  data-game-card\r\n                  tabIndex={-1}\r\n                  onClick={() => {\r\n                    if (showSettings) return;\r\n                    setFocusedIndex(index);\r\n                    setSelectedGame(game);\r\n                  }}\r\n                  onMouseEnter={() => {\r\n                    if (!showSettings) {\r\n                      setFocusedIndex(index);\r\n                      setIsGridFocused(false);\r\n                    }\r\n                  }}\r\n                  className={`${cardBase} ${activeClasses} ${dimClass} ${darkMode ? '' : 'shadow-md hover:shadow-lg'}`}\r\n                >\r\n                  {/* Background blur */}\r\n                  <div \r\n                    className=\"absolute inset-0\"\r\n                    style={{\r\n                      backgroundImage: `url(${game.imageUrl})`,\r\n                      backgroundSize: 'cover',\r\n                      backgroundPosition: 'center',\r\n                    }}\r\n                  />\r\n                  <div className=\"absolute inset-0 bg-black/30\" />\r\n\r\n                  {/* Main image */}\r\n                  <img \r\n                    src={game.imageUrl} \r\n                    alt={game.title}\r\n                    className=\"absolute inset-0 w-full h-full object-cover opacity-95 group-hover:opacity-100\"\r\n                    onError={(e) => {\r\n                      e.target.onerror = null;\r\n                      const parent = e.target.parentNode;\r\n                      const serviceColor = game.service === 'xbox' ? '#0078D4' : '#107C10';\r\n                      parent.innerHTML = `\r\n                        <div class=\"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br ${game.color} p-4\">\r\n                          <span class=\"text-white font-bold text-lg text-center\">${game.title}</span>\r\n                          <span class=\"text-white/70 text-sm mt-2\">${game.service === 'xbox' ? 'Xbox Cloud' : 'GeForce NOW'}</span>\r\n                        </div>\r\n                      `;\r\n                    }}\r\n                  />\r\n\r\n                  {/* Gradient overlay */}\r\n                  <div \r\n                    className=\"absolute inset-x-0 bottom-0\"\r\n                    style={{\r\n                      height: '50%',\r\n                      background: 'linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 0%, transparent 100%)'\r\n                    }}\r\n                  />\r\n\r\n                  {/* Title */}\r\n                  <div className=\"absolute bottom-0 left-0 right-0 p-4\">\r\n                    <h3 className=\"text-xl font-bold leading-tight text-white drop-shadow-[0_2px_8px rgba(0,0,0,0.9)]\">\r\n                      {game.title}\r\n                    </h3>\r\n                    <div className=\"flex items-center justify-between mt-2\">\r\n                      <span className=\"text-sm text-white/80\">{game.year}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Platform badge */}\r\n                  <div className={`absolute top-2 left-2 p-1 rounded-full shadow-lg ${badgeClasses}`}>\r\n                    {game.service === 'xbox' \r\n                      ? <XboxLogo className=\"w-4 h-4\" /> \r\n                      : <GfnLogo className=\"w-4 h-4\" />\r\n                    }\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </main>\r\n      \r\n      {/* Enhanced Controller Guide */}\r\n      {!selectedGame && !showSettings && (\r\n          <ControllerGuide darkMode={darkMode} gamepadConnected={gamepadConnected} />\r\n      )}\r\n\r\n      {/* Modals */}\r\n      <SettingsModal\r\n        show={showSettings}\r\n        onClose={() => setShowSettings(false)}\r\n        darkMode={darkMode}\r\n        setDarkMode={setDarkMode}\r\n        services={services}\r\n        setServices={setServices}\r\n        sortAsc={sortAsc}\r\n        setSortAsc={setSortAsc}\r\n      />\r\n\r\n      <GameDetailModal \r\n        game={selectedGame}\r\n        onClose={() => setSelectedGame(null)}\r\n        onLaunch={handleLaunch}\r\n        darkMode={darkMode}\r\n      />\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,SACEC,QAAQ,EACRC,MAAM,EACNC,QAAQ,EACRC,MAAM,EACNC,OAAO,EACPC,IAAI,EACJC,GAAG,EACHC,CAAC,EACDC,KAAK,EACLC,WAAW,EACXC,SAAS,EACTC,YAAY,EACZC,QAAQ,EACRC,QAAQ,EACRC,MAAM,EACNC,IAAI,EACJC,MAAM,EACNC,IAAI,EACJC,OAAO,EACPC,YAAY,EACZC,IAAI,EACJC,WAAW,QACN,cAAc;AACrB,SAASC,UAAU,QAAQ,eAAe;;AAE1C;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,QAAQ,GAAGA,CAAC;EAAEC;AAAU,CAAC,kBAC7BF,OAAA;EAAKG,OAAO,EAAC,WAAW;EAACC,IAAI,EAAC,cAAc;EAACC,KAAK,EAAC,4BAA4B;EAACH,SAAS,EAAEA,SAAU;EAAAI,QAAA,gBACjGN,OAAA;IAAMO,CAAC,EAAC;EAA4O;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC,CAAC,eACtPX,OAAA;IAAMO,CAAC,EAAC;EAAgO;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC,CAAC,eAC1OX,OAAA;IAAMO,CAAC,EAAC;EAA8Q;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC,CAAC,eACxRX,OAAA;IAAMO,CAAC,EAAC;EAAuK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC,CAAC;AAAA;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAChL,CACN;AAACC,EAAA,GAPIX,QAAQ;AASd,MAAMY,OAAO,GAAGA,CAAC;EAAEX;AAAU,CAAC,kBAC5BF,OAAA;EAAKG,OAAO,EAAC,WAAW;EAACC,IAAI,EAAC,cAAc;EAACC,KAAK,EAAC,4BAA4B;EAACH,SAAS,EAAEA,SAAU;EAAAI,QAAA,eACjGN,OAAA;IAAMO,CAAC,EAAC;EAAqwB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAC;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAC9wB,CACN;;AAED;AAAAG,GAAA,GANMD,OAAO;AAOb,MAAME,iBAAiB,GAAGA,CAAA,kBACtBf,OAAA;EAAOgB,uBAAuB,EAAE;IAAEC,MAAM,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAAK;AAAE;EAAAT,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAE,CACR;;AAED;AAAAO,GAAA,GAtGMH,iBAAiB;AAuGvB,MAAMI,eAAe,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAiB,CAAC,KAAK;EACxD,MAAMC,WAAW,GAAG,iHAAiH;EACrI,MAAMC,YAAY,GAAGH,QAAQ,GACzB,0EAA0E,GAC1E,wEAAwE;EAE5E,oBACIpB,OAAA;IAAKE,SAAS,EAAE,yEAAyEkB,QAAQ,GAC7F,uDAAuD,GACvD,yDAAyD,8BAA+B;IAAAd,QAAA,eAExFN,OAAA;MAAKE,SAAS,EAAC,6CAA6C;MAAAI,QAAA,gBACxDN,OAAA;QAAKE,SAAS,EAAC,yBAAyB;QAAAI,QAAA,gBACpCN,OAAA;UAAKE,SAAS,EAAC,2BAA2B;UAAAI,QAAA,gBACtCN,OAAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}