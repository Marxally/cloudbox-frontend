{"ast":null,"code":"// src/api/gameApi.js - CloudBox Game API Client\nconst API_BASE_URL='http://localhost:5000/api';/**\r\n * Fetches games from the CloudBox backend API\r\n */export async function fetchGames(){let refresh=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;try{let url=\"\".concat(API_BASE_URL,\"/games\");const params=[];if(refresh)params.push('refresh=true');if(limit)params.push(\"limit=\".concat(limit));if(params.length>0){url+='?'+params.join('&');}const response=await fetch(url);if(response.ok){const data=await response.json();return data.games||[];}else{console.warn('API not available, using fallback data');return getFallbackGames();}}catch(error){console.warn('Network error:',error.message);return getFallbackGames();}}/**\r\n * Force refresh games from scraper\r\n */export async function refreshGames(){try{const response=await fetch(\"\".concat(API_BASE_URL,\"/refresh\"));if(response.ok){const data=await response.json();return data;}}catch(error){console.error('Refresh failed:',error);}return null;}/**\r\n * Get statistics\r\n */export async function getStats(){try{const response=await fetch(\"\".concat(API_BASE_URL,\"/stats\"));if(response.ok){return await response.json();}}catch(error){console.error('Failed to get stats:',error);}return null;}/**\r\n * Fallback games data\r\n */function getFallbackGames(){return[{id:'1',title:'Cyberpunk 2077',service:'gfn',imageUrl:'https://images.igdb.com/igdb/image/upload/t_cover_big/co4a7y.jpg',description:'An open-world RPG set in Night City',publisher:'CD Projekt Red',genre:'RPG',year:2020,score:8.5,url:'https://www.nvidia.com/en-us/geforce-now/games/',color:'from-green-400 to-green-700'},{id:'2',title:'Halo Infinite',service:'xbox',imageUrl:'https://images.igdb.com/igdb/image/upload/t_cover_big/co4rq7.jpg',description:'The next chapter in the Halo saga',publisher:'Xbox Game Studios',genre:'Shooter',year:2021,score:9.0,url:'https://www.xbox.com/en-US/play/games/halo-infinite',color:'from-blue-400 to-blue-700'}];}","map":{"version":3,"names":["API_BASE_URL","fetchGames","refresh","arguments","length","undefined","limit","url","concat","params","push","join","response","fetch","ok","data","json","games","console","warn","getFallbackGames","error","message","refreshGames","getStats","id","title","service","imageUrl","description","publisher","genre","year","score","color"],"sources":["C:/Users/marxa/Desktop/CloudBox/cloudbox-app/frontend/src/api/gameApi.js"],"sourcesContent":["// src/api/gameApi.js - CloudBox Game API Client\r\n\r\nconst API_BASE_URL = 'http://localhost:5000/api';\r\n\r\n/**\r\n * Fetches games from the CloudBox backend API\r\n */\r\nexport async function fetchGames(refresh = false, limit = null) {\r\n    try {\r\n        let url = `${API_BASE_URL}/games`;\r\n        const params = [];\r\n        \r\n        if (refresh) params.push('refresh=true');\r\n        if (limit) params.push(`limit=${limit}`);\r\n        \r\n        if (params.length > 0) {\r\n            url += '?' + params.join('&');\r\n        }\r\n        \r\n        const response = await fetch(url);\r\n        \r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            return data.games || [];\r\n        } else {\r\n            console.warn('API not available, using fallback data');\r\n            return getFallbackGames();\r\n        }\r\n    } catch (error) {\r\n        console.warn('Network error:', error.message);\r\n        return getFallbackGames();\r\n    }\r\n}\r\n\r\n/**\r\n * Force refresh games from scraper\r\n */\r\nexport async function refreshGames() {\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/refresh`);\r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            return data;\r\n        }\r\n    } catch (error) {\r\n        console.error('Refresh failed:', error);\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Get statistics\r\n */\r\nexport async function getStats() {\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/stats`);\r\n        if (response.ok) {\r\n            return await response.json();\r\n        }\r\n    } catch (error) {\r\n        console.error('Failed to get stats:', error);\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Fallback games data\r\n */\r\nfunction getFallbackGames() {\r\n    return [\r\n        {\r\n            id: '1',\r\n            title: 'Cyberpunk 2077',\r\n            service: 'gfn',\r\n            imageUrl: 'https://images.igdb.com/igdb/image/upload/t_cover_big/co4a7y.jpg',\r\n            description: 'An open-world RPG set in Night City',\r\n            publisher: 'CD Projekt Red',\r\n            genre: 'RPG',\r\n            year: 2020,\r\n            score: 8.5,\r\n            url: 'https://www.nvidia.com/en-us/geforce-now/games/',\r\n            color: 'from-green-400 to-green-700'\r\n        },\r\n        {\r\n            id: '2',\r\n            title: 'Halo Infinite',\r\n            service: 'xbox',\r\n            imageUrl: 'https://images.igdb.com/igdb/image/upload/t_cover_big/co4rq7.jpg',\r\n            description: 'The next chapter in the Halo saga',\r\n            publisher: 'Xbox Game Studios',\r\n            genre: 'Shooter',\r\n            year: 2021,\r\n            score: 9.0,\r\n            url: 'https://www.xbox.com/en-US/play/games/halo-infinite',\r\n            color: 'from-blue-400 to-blue-700'\r\n        }\r\n    ];\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}