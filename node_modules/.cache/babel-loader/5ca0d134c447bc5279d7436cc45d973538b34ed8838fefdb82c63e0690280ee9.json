{"ast":null,"code":"import _objectSpread from\"C:/Users/marxa/Desktop/CloudBox/cloudbox-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{Gamepad2,Search,Settings,Filter,Monitor,Moon,Sun,X,Cloud,ArrowDownAZ,ArrowUpAZ,ExternalLink,ImageOff,Calendar,Layers,Info,Rocket,Menu,Loader2,ChevronRight,Play,GamepadIcon}from'lucide-react';import{fetchGames}from'./api/gameApi';// Platform Logo Components\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const XboxLogo=_ref=>{let{className}=_ref;return/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",xmlns:\"http://www.w3.org/2000/svg\",className:className,children:[/*#__PURE__*/_jsx(\"path\",{d:\"m24 12c0-.001 0-.001 0-.002 0-3.618-1.606-6.861-4.144-9.054l-.015-.013c-1.91 1.023-3.548 2.261-4.967 3.713l-.004.004c.044.046.087.085.131.132 3.719 4.012 7.106 9.73 6.546 12.471 1.53-1.985 2.452-4.508 2.452-7.246 0-.002 0-.004 0-.006z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m12.591 3.955c1.68-1.104 3.699-1.833 5.872-2.022l.048-.003c-1.837-1.21-4.09-1.929-6.511-1.929-2.171 0-4.207.579-5.962 1.591l.058-.031c.658.567 2.837.781 5.484 2.4.143.089.316.142.502.142.189 0 .365-.055.513-.149l-.004.002z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m9.166 6.778c.046-.049.093-.09.138-.138-1.17-1.134-2.446-2.174-3.806-3.1l-.099-.064c-.302-.221-.681-.354-1.091-.354-.146 0-.288.017-.425.049l.013-.002c-2.398 2.198-3.896 5.344-3.896 8.84 0 2.909 1.037 5.576 2.762 7.651l-.016-.020c-1.031-2.547 2.477-8.672 6.419-12.862z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m12.084 9.198c-3.962 3.503-9.477 8.73-8.632 11.218 2.174 2.213 5.198 3.584 8.542 3.584 3.493 0 6.637-1.496 8.826-3.883l.008-.009c.486-2.618-4.755-7.337-8.744-10.910z\"})]});};const GfnLogo=_ref2=>{let{className}=_ref2;return/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",xmlns:\"http://www.w3.org/2000/svg\",className:className,children:/*#__PURE__*/_jsx(\"path\",{d:\"M8.948 8.798v-1.43a6.7 6.7 0 0 1 .424-.018c3.922-.124 6.493 3.374 6.493 3.374s-2.774 3.851-5.75 3.851c-.398 0-.787-.062-1.158-.185v-4.346c1.528.185 1.837.857 2.747 2.385l2.04-1.714s-1.492-1.952-4-1.952a6.016 6.016 0 0 0-.796.035m0-4.735v2.138l.424-.027c5.45-.185 9.01 4.47 9.01 4.47s-4.08 4.964-8.33 4.964c-.37 0-.733-.035-1.095-.097v1.325c.3.035.61.062.91.062 3.957 0 6.82-2.023 9.593-4.408.459.371 2.34 1.263 2.73 1.652-2.633 2.208-8.772 3.984-12.253 3.984-.335 0-.653-.018-.971-.053v1.864H24V4.063zm0 10.326v1.131c-3.657-.654-4.673-4.46-4.673-4.46s1.758-1.944 4.673-2.262v1.237H8.94c-1.528-.186-2.73 1.245-2.73 1.245s.68 2.412 2.739 3.11M2.456 10.9s2.164-3.197 6.5-3.533V6.201C4.153 6.59 0 10.653 0 10.653s2.35 6.802 8.948 7.42v-1.237c-4.84-.6-6.492-5.936-6.492-5.936z\"})});};// Pulsing Glow Styles\nconst PulsingGlowStyles=()=>/*#__PURE__*/_jsx(\"style\",{dangerouslySetInnerHTML:{__html:\"\\n        @keyframes pulse-glow {\\n            0%, 100% { \\n                box-shadow: \\n                    0 0 5px rgba(99, 102, 241, 0.3), \\n                    0 0 10px rgba(99, 102, 241, 0.15); \\n            }\\n            50% { \\n                box-shadow: \\n                    0 0 10px rgba(129, 140, 248, 0.5), \\n                    0 0 20px rgba(129, 140, 248, 0.3); \\n            }\\n        }\\n        \\n        @keyframes subtle-shift {\\n          0%, 100% {\\n            transform: translate(0px, 0px);\\n          }\\n          25% {\\n            transform: translate(1px, 1px);\\n          }\\n          50% {\\n            transform: translate(0px, 2px);\\n          }\\n          75% {\\n            transform: translate(-1px, 1px);\\n          }\\n        }\\n        \\n        @keywaves gradient-shift {\\n          0% {\\n            background-position: 0% 50%;\\n          }\\n          50% {\\n            background-position: 100% 50%;\\n          }\\n          100% {\\n            background-position: 0% 50%;\\n          }\\n        }\\n        \\n        @keyframes launch-pulse {\\n          0% {\\n            transform: scale(1);\\n            box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7);\\n          }\\n          70% {\\n            transform: scale(1.02);\\n            box-shadow: 0 0 0 10px rgba(99, 102, 241, 0);\\n          }\\n          100% {\\n            transform: scale(1);\\n            box-shadow: 0 0 0 0 rgba(99, 102, 241, 0);\\n          }\\n        }\\n        \\n        @keyframes float {\\n          0%, 100% {\\n            transform: translateY(0px);\\n          }\\n          50% {\\n            transform: translateY(-5px);\\n          }\\n        }\\n        \\n        @keyframes fade-in {\\n          from {\\n            opacity: 0;\\n          }\\n          to {\\n            opacity: 1;\\n          }\\n        }\\n        \\n        .is-visually-active {\\n            transform: scale(1.02) !important;\\n            z-index: 20; \\n            border-color: #6366F1;\\n            animation: pulse-glow 2s infinite alternate ease-in-out;\\n        }\\n        \\n        .subtle-shift {\\n          animation: subtle-shift 20s infinite ease-in-out;\\n        }\\n        \\n        .gradient-animation {\\n          animation: gradient-shift 15s ease infinite;\\n        }\\n        \\n        .float-animation {\\n          animation: float 6s infinite ease-in-out;\\n        }\\n        \\n        .launch-pulse {\\n          animation: launch-pulse 2s infinite;\\n        }\\n        \\n        .fade-in {\\n          animation: fade-in 0.5s ease-out;\\n        }\\n        \\n        @keyframes spin {\\n            0% { transform: rotate(0deg); }\\n            100% { transform: rotate(360deg); }\\n        }\\n        \\n        .animate-spin-slow {\\n            animation: spin 3s linear infinite;\\n        }\\n        \\n        /* Hide scrollbar for Chrome, Safari and Opera */\\n        .no-scrollbar::-webkit-scrollbar {\\n          display: none;\\n        }\\n        \\n        /* Hide scrollbar for IE, Edge and Firefox */\\n        .no-scrollbar {\\n          -ms-overflow-style: none;  /* IE and Edge */\\n          scrollbar-width: none;  /* Firefox */\\n        }\\n    \"}});// UPDATED Controller Guide - Only shows when gamepad is connected\nconst ControllerGuide=_ref3=>{let{darkMode,gamepadConnected}=_ref3;if(!gamepadConnected)return null;const buttonClass=\"w-6 h-6 rounded-lg flex items-center justify-center font-bold text-sm border\";const buttonBorder=darkMode?'border-white/40 text-white bg-gradient-to-br from-slate-800/80 to-slate-900/80 shadow-inner':'border-gray-500 text-gray-800 bg-gradient-to-br from-white/80 to-gray-100/80 shadow-inner';const navButtonClass=\"px-2 py-1 rounded bg-gradient-to-br\";const navButtonBg=darkMode?'from-slate-700/60 to-slate-800/60 border border-white/20 text-white/90':'from-gray-100/60 to-gray-200/60 border border-gray-400/50 text-gray-800';return/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-6 right-6 z-50 p-3 rounded-xl backdrop-blur-xl border \".concat(darkMode?'border-white/20 bg-slate-900/90 text-white shadow-lg':'border-gray-300/70 bg-white/90 text-gray-900 shadow-lg',\" transition-all duration-300\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2 text-xs relative z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(buttonClass,\" \").concat(buttonBorder),children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium min-w-[50px]\",children:\"Select\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(buttonClass,\" \").concat(buttonBorder),children:\"X\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium min-w-[50px]\",children:\"Launch\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(buttonClass,\" \").concat(buttonBorder),children:/*#__PURE__*/_jsx(Menu,{className:\"w-3.5 h-3.5\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium min-w-[50px]\",children:\"Menu\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(buttonClass,\" \").concat(buttonBorder),children:\"Y\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium min-w-[50px]\",children:\"Search\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 pt-1 border-t border-white/10 flex items-center justify-center gap-1.5 text-xs opacity-80\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(navButtonClass,\" \").concat(navButtonBg),children:\"LB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(navButtonClass,\" \").concat(navButtonBg),children:\"RB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium ml-1\",children:\"Navigate tabs\"})]})]})});};// Game Detail Modal\nconst GameDetailModal=_ref4=>{let{game,onClose,onLaunch,darkMode}=_ref4;if(!game)return null;const modalContentClasses=darkMode?'bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700':'bg-gradient-to-br from-white to-gray-50 text-gray-900 border border-gray-200 shadow-2xl';return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 transition-opacity duration-300 overflow-y-auto p-4\",onClick:onClose,children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/60\",onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full max-w-2xl max-h-[90vh] rounded-2xl p-6 transition-transform duration-300 transform scale-100 \".concat(modalContentClasses,\" flex flex-col\"),onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-6 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold leading-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",children:game.title})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 rounded-full transition-colors \".concat(darkMode?'hover:bg-slate-700':'hover:bg-gray-200'),children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex-grow overflow-y-auto pr-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 mb-4 md:mb-0 rounded-xl overflow-hidden shadow-xl aspect-[2/3] w-full max-w-[150px] self-center md:self-start border-4 border-white/20\",children:/*#__PURE__*/_jsx(\"img\",{src:game.imageUrl,alt:\"\".concat(game.title,\" cover\"),className:\"w-full h-full object-cover\",onError:e=>{e.target.onerror=null;const parent=e.target.parentNode;parent.innerHTML=\"\\n                                        <div class=\\\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br \".concat(game.color,\" p-4\\\">\\n                                            <ImageOff class=\\\"w-10 h-10 text-white/50 mb-2\\\" />\\n                                            <span class=\\\"text-white/70 text-sm text-center\\\">\").concat(game.title,\"</span>\\n                                        </div>\\n                                    \");}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-sm px-3 py-1 rounded-full \".concat(darkMode?'bg-slate-700/80':'bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border border-blue-200'),children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:game.year})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-sm px-3 py-1 rounded-full \".concat(darkMode?'bg-slate-700/80':'bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 border border-purple-200'),children:[/*#__PURE__*/_jsx(Layers,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:game.genre})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-sm px-3 py-1 rounded-full \".concat(game.service==='xbox'?'bg-gradient-to-r from-[#107C10]/90 to-[#0e6e0e]/90':'bg-gradient-to-r from-[#76B900]/90 to-[#68a500]/90',\" text-white shadow-md\"),children:[game.service==='xbox'?/*#__PURE__*/_jsx(XboxLogo,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(GfnLogo,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:game.service==='xbox'?'Xbox Cloud':'GeForce NOW'})]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2 opacity-70\",children:\"About the Game\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm leading-relaxed mb-8 opacity-90\",children:game.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold mb-1 opacity-70\",children:\"Publisher\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(darkMode?'text-white/80':'text-gray-700'),children:game.publisher})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold mb-1 opacity-70\",children:\"Release Year\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(darkMode?'text-white/80':'text-gray-700'),children:game.year})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 pt-4 flex gap-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{console.log('Launching game:',game.title,'to:',game.url);if(game.url&&game.url!=='#'){window.open(game.url,'_blank','noopener,noreferrer');}onClose();},className:\"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-lg font-bold text-white bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-lg shadow-indigo-500/30 transform hover:scale-[1.02] hover:shadow-indigo-500/50 active:scale-[0.98] launch-pulse\",children:[/*#__PURE__*/_jsx(Play,{className:\"w-5 h-5\"}),\"Launch Now\",/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"})]})})]})]});};// Settings Modal\nconst SettingsModal=_ref5=>{let{show,onClose,darkMode,setDarkMode,services,setServices,sortAsc,setSortAsc}=_ref5;if(!show)return null;const modalClasses=darkMode?'bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700':'bg-gradient-to-br from-white to-gray-50 text-gray-900 border border-gray-200 shadow-2xl';return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-lg rounded-2xl p-6 transition-transform duration-300 transform scale-100 \".concat(modalClasses),onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-6 h-6\"}),\"CloudBox Settings\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 rounded-full transition-colors \".concat(darkMode?'hover:bg-slate-700':'hover:bg-gray-200'),children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 rounded-xl \".concat(darkMode?'bg-slate-800/80':'bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100'),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"Theme\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:darkMode?'text-white/80':'text-gray-700',children:\"Toggle Dark Mode\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setDarkMode(!darkMode),className:\"flex items-center p-2 rounded-full transition-all \".concat(darkMode?'bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700':'bg-gradient-to-r from-gray-200 to-gray-300 text-gray-800 hover:from-gray-300 hover:to-gray-400 shadow-sm'),children:[darkMode?/*#__PURE__*/_jsx(Sun,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Moon,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm font-medium\",children:darkMode?'Light Mode':'Dark Mode'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 rounded-xl \".concat(darkMode?'bg-slate-800/80':'bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100'),children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Filter,{className:\"w-5 h-5\"}),\" Filters\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setServices(prev=>_objectSpread(_objectSpread({},prev),{},{xbox:!prev.xbox})),className:\"flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 \".concat(services.xbox?'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white shadow-md':darkMode?'bg-slate-700 text-gray-300 hover:bg-slate-600':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:[/*#__PURE__*/_jsx(XboxLogo,{className:\"w-5 h-5 mr-2\"}),\"Xbox Cloud\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setServices(prev=>_objectSpread(_objectSpread({},prev),{},{gfn:!prev.gfn})),className:\"flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 \".concat(services.gfn?'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white shadow-md':darkMode?'bg-slate-700 text-gray-300 hover:bg-slate-600':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:[/*#__PURE__*/_jsx(GfnLogo,{className:\"w-5 h-5 mr-2\"}),\"GeForce NOW\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 rounded-xl \".concat(darkMode?'bg-slate-800/80':'bg-gradient-to-r from-green-50 to-emerald-50 border border-green-100'),children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(ArrowDownAZ,{className:\"w-5 h-5\"}),\" Sorting\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSortAsc(true),className:\"flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 \".concat(sortAsc?'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md':darkMode?'bg-slate-700 text-gray-300 hover:bg-slate-600':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:[/*#__PURE__*/_jsx(ArrowUpAZ,{className:\"w-5 h-5 mr-2\"}),\"A-Z (Ascending)\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSortAsc(false),className:\"flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 \".concat(!sortAsc?'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md':darkMode?'bg-slate-700 text-gray-300 hover:bg-slate-600':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:[/*#__PURE__*/_jsx(ArrowDownAZ,{className:\"w-5 h-5 mr-2\"}),\"Z-A (Descending)\"]})]})]})]})});};// Main App Component\nexport default function App(){const[games,setGames]=useState([]);const[filteredGames,setFilteredGames]=useState([]);const[isLoading,setIsLoading]=useState(true);const[selectedGame,setSelectedGame]=useState(null);const[darkMode,setDarkMode]=useState(true);const[showSettings,setShowSettings]=useState(false);const[services,setServices]=useState({xbox:true,gfn:true});const[sortAsc,setSortAsc]=useState(true);const[searchQuery,setSearchQuery]=useState(\"\");const[focusedIndex,setFocusedIndex]=useState(0);const[isGridFocused,setIsGridFocused]=useState(true);const[gamepadConnected,setGamepadConnected]=useState(false);const gridRef=useRef(null);const searchInputRef=useRef(null);const gamepadRef=useRef(null);const prevButtonsRef=useRef([]);// Track available tabs for controller navigation\nconst tabs=[{key:'all',label:'All Games',action:()=>setServices({xbox:true,gfn:true})},{key:'gfn',label:'GFN',action:()=>setServices({xbox:false,gfn:true})},{key:'xbox',label:'Xbox',action:()=>setServices({xbox:true,gfn:false})}];// Get current active tab index\nconst getActiveTabIndex=()=>{if(services.xbox&&services.gfn)return 0;// All Games\nif(!services.xbox&&services.gfn)return 1;// GFN\nif(services.xbox&&!services.gfn)return 2;// Xbox\nreturn 0;};// Navigate tabs with controller\nconst navigateTabs=useCallback(direction=>{const currentIndex=getActiveTabIndex();let newIndex;if(direction==='left'){newIndex=currentIndex>0?currentIndex-1:tabs.length-1;}else{newIndex=currentIndex<tabs.length-1?currentIndex+1:0;}tabs[newIndex].action();},[services,tabs]);// Fetch games on component mount\nuseEffect(()=>{const loadGames=async()=>{try{const data=await fetchGames();console.log('Loaded games:',data.length);setGames(data);}catch(error){console.error(\"Failed to fetch games:\",error);}finally{setIsLoading(false);}};loadGames();},[]);// Filter and sort games\nuseEffect(()=>{if(isLoading)return;console.log('Filtering games with services:',services);let result=games.filter(g=>{const matchesService=g.service==='xbox'&&services.xbox||g.service==='gfn'&&services.gfn;const matchesSearch=searchQuery?g.title.toLowerCase().includes(searchQuery.toLowerCase())||g.genre.toLowerCase().includes(searchQuery.toLowerCase())||g.publisher&&g.publisher.toLowerCase().includes(searchQuery.toLowerCase()):true;return matchesService&&matchesSearch;});console.log('Filtered to',result.length,'games');result.sort((a,b)=>{return sortAsc?a.title.localeCompare(b.title):b.title.localeCompare(a.title);});setFilteredGames(result);if(result.length>0){setFocusedIndex(prev=>Math.min(prev,result.length-1));}else{setFocusedIndex(0);}if(selectedGame&&!result.find(g=>g.id===selectedGame.id)){setSelectedGame(null);}},[games,services,sortAsc,searchQuery,selectedGame,isLoading]);// Scroll into view\nuseEffect(()=>{if(isGridFocused&&gridRef.current&&filteredGames.length>0){const cards=gridRef.current.querySelectorAll('[data-game-card]');if(cards[focusedIndex]){cards[focusedIndex].scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});}}},[focusedIndex,isGridFocused,filteredGames.length]);// Launch handler\nconst handleLaunch=useCallback(function(game){let directLaunch=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!game)return;if(directLaunch){console.log('Launching game:',game.title,'to:',game.url);if(game.url&&game.url!=='#'){window.open(game.url,'_blank','noopener,noreferrer');}setSelectedGame(null);return;}if(!selectedGame||selectedGame.id!==game.id){setSelectedGame(game);return;}},[selectedGame]);// Navigation handler\nconst handleNavigation=useCallback(direction=>{if(showSettings||selectedGame||document.activeElement===searchInputRef.current)return;if(!isGridFocused)setIsGridFocused(true);const total=filteredGames.length;if(total===0)return;let gridWidth=4;if(gridRef.current){const style=window.getComputedStyle(gridRef.current);const columns=style.getPropertyValue('grid-template-columns').split(' ').length;if(columns>0)gridWidth=columns;}setFocusedIndex(prev=>{let next=prev;switch(direction){case'UP':next=prev-gridWidth;break;case'DOWN':next=prev+gridWidth;break;case'LEFT':next=prev-1;break;case'RIGHT':next=prev+1;break;default:break;}if(next<0)next=0;if(next>=total)next=total-1;return next;});},[filteredGames,isGridFocused,showSettings,selectedGame]);// UPDATED Gamepad polling with joystick sensitivity fix\nuseEffect(()=>{let animationFrameId;let lastJoystickUpdate=0;const JOYSTICK_THROTTLE_MS=200;// Increased from previous value\nconst DEAD_ZONE=0.7;// Increased dead zone to require more deliberate movement\nconst pollGamepad=()=>{const gamepads=navigator.getGamepads();const gamepad=gamepads[0];// Get first connected gamepad\nif(gamepad){if(!gamepadConnected){setGamepadConnected(true);console.log('Gamepad connected:',gamepad.id);}gamepadRef.current=gamepad;// Check buttons\nconst buttons=gamepad.buttons;const prevButtons=prevButtonsRef.current;buttons.forEach((button,index)=>{const pressed=button.pressed||button.value>0.5;// Only trigger on button press (not release)\nif(pressed&&(!prevButtons[index]||!prevButtons[index].pressed)){handleGamepadInput(index);}// Update previous button state\nif(!prevButtons[index]){prevButtons[index]={pressed};}else{prevButtons[index].pressed=pressed;}});// Check axes for D-pad/joystick with throttling\nconst axes=gamepad.axes;const now=Date.now();// Only process joystick if enough time has passed\nif(now-lastJoystickUpdate>JOYSTICK_THROTTLE_MS){let joystickMoved=false;// Left/Right on axis 0\nif(axes[0]<-DEAD_ZONE){handleNavigation('LEFT');joystickMoved=true;}else if(axes[0]>DEAD_ZONE){handleNavigation('RIGHT');joystickMoved=true;}// Up/Down on axis 1\nif(axes[1]<-DEAD_ZONE){handleNavigation('UP');joystickMoved=true;}else if(axes[1]>DEAD_ZONE){handleNavigation('DOWN');joystickMoved=true;}if(joystickMoved){lastJoystickUpdate=now;}}}else{if(gamepadConnected){setGamepadConnected(false);gamepadRef.current=null;lastJoystickUpdate=0;}}animationFrameId=requestAnimationFrame(pollGamepad);};animationFrameId=requestAnimationFrame(pollGamepad);// Gamepad connection events\nconst handleGamepadConnected=e=>{console.log('Gamepad connected:',e.gamepad.id);setGamepadConnected(true);gamepadRef.current=e.gamepad;};const handleGamepadDisconnected=e=>{console.log('Gamepad disconnected:',e.gamepad.id);setGamepadConnected(false);gamepadRef.current=null;};window.addEventListener('gamepadconnected',handleGamepadConnected);window.addEventListener('gamepaddisconnected',handleGamepadDisconnected);return()=>{cancelAnimationFrame(animationFrameId);window.removeEventListener('gamepadconnected',handleGamepadConnected);window.removeEventListener('gamepaddisconnected',handleGamepadDisconnected);};},[gamepadConnected,handleNavigation]);// Gamepad input handler - UPDATED with LB/RB support\nconst handleGamepadInput=useCallback(buttonIndex=>{// Don't handle gamepad input when typing in search\nconst isTypingInSearch=document.activeElement===searchInputRef.current;if(isTypingInSearch&&buttonIndex!==1)return;// Only B button works when typing\nconst gameInFocus=filteredGames[focusedIndex];switch(buttonIndex){case 0:// A button (Xbox: Bottom, PlayStation: Cross)\nif(selectedGame){handleLaunch(selectedGame,true);}else if(gameInFocus){setSelectedGame(gameInFocus);}break;case 1:// B button (Xbox: Right, PlayStation: Circle)\nif(selectedGame){setSelectedGame(null);}else if(showSettings){setShowSettings(false);}else if(isTypingInSearch){searchInputRef.current.blur();setIsGridFocused(true);}break;case 2:// X button (Xbox: Left, PlayStation: Square)\nif(selectedGame){handleLaunch(selectedGame,true);}else if(gameInFocus){handleLaunch(gameInFocus,true);}break;case 3:// Y button (Xbox: Top, PlayStation: Triangle)\nif(!selectedGame&&!showSettings&&searchInputRef.current){searchInputRef.current.focus();setIsGridFocused(false);}break;case 4:// LB button - Navigate tabs left\nif(!selectedGame&&!showSettings&&!isTypingInSearch){navigateTabs('left');}break;case 5:// RB button - Navigate tabs right\nif(!selectedGame&&!showSettings&&!isTypingInSearch){navigateTabs('right');}break;case 9:// Start button\nif(!selectedGame&&!isTypingInSearch){setShowSettings(true);}break;case 8:// Select button\n// Optional: Could be used for something else\nbreak;case 12:// D-pad up\nif(!selectedGame&&!showSettings){handleNavigation('UP');}break;case 13:// D-pad down\nif(!selectedGame&&!showSettings){handleNavigation('DOWN');}break;case 14:// D-pad left\nif(!selectedGame&&!showSettings){handleNavigation('LEFT');}break;case 15:// D-pad right\nif(!selectedGame&&!showSettings){handleNavigation('RIGHT');}break;}},[selectedGame,showSettings,filteredGames,focusedIndex,handleLaunch,handleNavigation,navigateTabs]);// Keyboard listeners - Updated to work alongside gamepad\nuseEffect(()=>{const handleKeyDown=e=>{// Don't handle keyboard if gamepad is connected and user is using it\n// But still allow Escape and typing in search\nif(gamepadConnected&&!['Escape','b','B','Tab','Enter','q','e'].includes(e.key)&&document.activeElement!==searchInputRef.current){return;}// Handle Escape/B for closing modals\nif(e.key==='Escape'||e.key.toLowerCase()==='b'){e.preventDefault();if(selectedGame){setSelectedGame(null);}else if(showSettings){setShowSettings(false);}else if(document.activeElement===searchInputRef.current){searchInputRef.current.blur();setIsGridFocused(true);}return;}// Check if user is typing in search input\nconst isTypingInSearch=document.activeElement===searchInputRef.current;// Handle search focus (Y button)\nif(e.key.toLowerCase()==='y'&&!isTypingInSearch&&!selectedGame&&!showSettings){e.preventDefault();if(searchInputRef.current){searchInputRef.current.focus();setIsGridFocused(false);}return;}// Handle LB/Q and RB/E for tab navigation\nif((e.key==='q'||e.key==='Q')&&!isTypingInSearch&&!selectedGame&&!showSettings){e.preventDefault();navigateTabs('left');return;}if((e.key==='e'||e.key==='E')&&!isTypingInSearch&&!selectedGame&&!showSettings){e.preventDefault();navigateTabs('right');return;}// Handle settings menu (Start button)\nif((e.key==='Menu'||e.key==='ContextMenu')&&!isTypingInSearch&&!selectedGame){e.preventDefault();setShowSettings(true);return;}// If typing in search, don't handle gamepad controls\nif(isTypingInSearch){return;}// Prevent default for navigation keys only when not typing\nif(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight',' ','Enter'].includes(e.key)){e.preventDefault();}// Handle Start/Enter for settings only when grid is focused\nif(e.key==='Enter'&&!selectedGame&&!showSettings&&isGridFocused){e.preventDefault();setShowSettings(true);return;}if(showSettings)return;const gameInFocus=filteredGames[focusedIndex];switch(e.key){case'ArrowUp':case'ArrowDown':case'ArrowLeft':case'ArrowRight':if(!selectedGame)handleNavigation(e.key.replace('Arrow','').toUpperCase());break;case'Enter':if(selectedGame){handleLaunch(selectedGame,true);}else if(gameInFocus){setSelectedGame(gameInFocus);}break;case' ':// Spacebar: Launch directly\nif(selectedGame){handleLaunch(selectedGame,true);}else if(gameInFocus){handleLaunch(gameInFocus,true);}break;case'x':// X button: Launch directly\ncase'X':// X button (caps)\nif(selectedGame){handleLaunch(selectedGame,true);}else if(gameInFocus){handleLaunch(gameInFocus,true);}break;}};window.addEventListener('keydown',handleKeyDown);return()=>window.removeEventListener('keydown',handleKeyDown);},[handleNavigation,showSettings,filteredGames,focusedIndex,selectedGame,handleLaunch,isGridFocused,gamepadConnected,navigateTabs]);// Updated theme with gradient background\nconst themeClasses=darkMode?\"bg-gradient-to-br from-slate-900 to-slate-950 text-white\":\"bg-gradient-to-br from-gray-50 to-blue-50 text-gray-900\";const cardBase=\"relative rounded-xl overflow-hidden shadow-lg transition-all duration-300 transform aspect-[2/3] flex flex-col justify-end group cursor-pointer border-2 border-transparent hover:border-white/20\";// Loading screen\nif(isLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full min-h-screen flex flex-col items-center justify-center font-sans \".concat(themeClasses,\" transition-colors duration-300 overflow-hidden fade-in\"),children:[/*#__PURE__*/_jsx(PulsingGlowStyles,{}),/*#__PURE__*/_jsx(Loader2,{className:\"w-16 h-16 text-indigo-500 animate-spin-slow\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mt-4\",children:\"Loading CloudBox Games...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"opacity-70 mt-2\",children:\"Fetching games from the cloud\"})]});}// Main render\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"w-full min-h-screen font-sans \".concat(themeClasses,\" transition-colors duration-300 overflow-x-hidden no-scrollbar fade-in\"),children:[/*#__PURE__*/_jsx(PulsingGlowStyles,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 -z-10 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 gradient-animation \".concat(darkMode?'bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900':'bg-gradient-to-br from-gray-50 via-blue-50 to-gray-50'),style:{backgroundSize:'400% 400%'}}),darkMode&&/*#__PURE__*/_jsx(_Fragment,{children:[...Array(8)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute rounded-full subtle-shift\",style:{width:\"\".concat(Math.random()*200+50,\"px\"),height:\"\".concat(Math.random()*200+50,\"px\"),top:\"\".concat(Math.random()*100,\"%\"),left:\"\".concat(Math.random()*100,\"%\"),background:\"radial-gradient(circle, rgba(99, 102, 241, \".concat(0.02+Math.random()*0.03,\") 0%, transparent 70%)\"),animationDuration:\"\".concat(30+Math.random()*30,\"s\"),animationDelay:\"\".concat(Math.random()*10,\"s\"),opacity:0.3}},i))}),!darkMode&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 opacity-5\",style:{backgroundImage:\"linear-gradient(to right, #888 1px, transparent 1px),\\n                                linear-gradient(to bottom, #888 1px, transparent 1px)\",backgroundSize:'50px 50px'}})]}),/*#__PURE__*/_jsxs(\"header\",{className:\"fixed top-0 left-0 right-0 z-40 px-6 py-4 backdrop-blur-md flex items-center justify-between \".concat(darkMode?'bg-slate-900/80 border-b border-slate-800':'bg-white/80 border-b border-gray-200 shadow-sm'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-blue-500 to-purple-600 p-2 rounded-xl shadow-lg float-animation\",children:/*#__PURE__*/_jsx(Cloud,{className:\"text-white w-6 h-6\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",children:\"CloudBox\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setServices({xbox:true,gfn:true}),className:\"px-3 py-1.5 rounded-full text-sm font-medium transition-all \".concat(services.xbox&&services.gfn?'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md':darkMode?'bg-slate-800 text-slate-300 hover:bg-slate-700':'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'),children:\"All Games\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setServices({xbox:false,gfn:true}),className:\"px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 \".concat(services.gfn&&!services.xbox?'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white shadow-md':darkMode?'bg-slate-800 text-slate-300 hover:bg-slate-700':'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'),children:[/*#__PURE__*/_jsx(GfnLogo,{className:\"w-3.5 h-3.5\"}),\"GFN\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setServices({xbox:true,gfn:false}),className:\"px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 \".concat(services.xbox&&!services.gfn?'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white shadow-md':darkMode?'bg-slate-800 text-slate-300 hover:bg-slate-700':'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'),children:[/*#__PURE__*/_jsx(XboxLogo,{className:\"w-3.5 h-3.5\"}),\"Xbox\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center px-3 py-1.5 rounded-full border transition-all \".concat(darkMode?'bg-slate-800 border-slate-700':'bg-white border-gray-300 shadow-sm'),children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 mr-2 \".concat(darkMode?'text-slate-400':'text-gray-400')}),/*#__PURE__*/_jsx(\"input\",{ref:searchInputRef,type:\"text\",placeholder:\"Search games...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onFocus:()=>setIsGridFocused(false),onBlur:()=>setIsGridFocused(true),className:\"bg-transparent border-none outline-none text-sm w-40 \".concat(darkMode?'placeholder-slate-400':'placeholder-gray-500')}),searchQuery&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSearchQuery(\"\"),children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 \".concat(darkMode?'text-slate-400 hover:text-white':'text-gray-400 hover:text-gray-600')})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettings(true),className:\"p-2 rounded-full transition-colors \".concat(darkMode?'hover:bg-slate-800':'hover:bg-gray-200 shadow-sm'),children:/*#__PURE__*/_jsx(Settings,{className:\"w-6 h-6\"})})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"px-6 pb-12 container max-w-7xl mx-auto transition-filter duration-300 pt-20 no-scrollbar\",style:{filter:selectedGame||showSettings?'blur(2px)':'none',pointerEvents:selectedGame||showSettings?'none':'auto'},children:filteredGames.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-20 opacity-50 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(Gamepad2,{className:\"w-16 h-16 mb-4 \".concat(darkMode?'text-slate-600':'text-gray-400')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl\",children:\"No games found with the current filters\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-70 mt-2\",children:\"Try changing your search or enabling more services\"})]}):/*#__PURE__*/_jsx(\"div\",{ref:gridRef,className:\"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-6 transition-all duration-300\",children:filteredGames.map((game,index)=>{const isVisuallyActive=index===focusedIndex&&!selectedGame&&!showSettings;const dimClass=selectedGame||showSettings?'opacity-60':'';const activeClasses=isVisuallyActive?'is-visually-active':'opacity-90 hover:opacity-100';const badgeClasses=game.service==='xbox'?'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white':'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white';return/*#__PURE__*/_jsxs(\"div\",{\"data-game-card\":true,tabIndex:-1,onClick:()=>{if(showSettings)return;setFocusedIndex(index);setSelectedGame(game);},onMouseEnter:()=>{if(!showSettings){setFocusedIndex(index);setIsGridFocused(false);}},className:\"\".concat(cardBase,\" \").concat(activeClasses,\" \").concat(dimClass,\" \").concat(darkMode?'':'shadow-md hover:shadow-lg'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0\",style:{backgroundImage:\"url(\".concat(game.imageUrl,\")\"),backgroundSize:'cover',backgroundPosition:'center',filter:'blur(10px)',transform:'scale(1.1)'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/30\"}),/*#__PURE__*/_jsx(\"img\",{src:game.imageUrl,alt:game.title,className:\"absolute inset-0 w-full h-full object-cover opacity-95 group-hover:opacity-100\",onError:e=>{e.target.onerror=null;const parent=e.target.parentNode;const serviceColor=game.service==='xbox'?'#0078D4':'#107C10';parent.innerHTML=\"\\n                        <div class=\\\"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br \".concat(game.color,\" p-4\\\">\\n                          <span class=\\\"text-white font-bold text-lg text-center\\\">\").concat(game.title,\"</span>\\n                          <span class=\\\"text-white/70 text-sm mt-2\\\">\").concat(game.service==='xbox'?'Xbox Cloud':'GeForce NOW',\"</span>\\n                        </div>\\n                      \");}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-x-0 bottom-0\",style:{height:'50%',background:'linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 0%, transparent 100%)'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-0 left-0 right-0 p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold leading-tight text-white drop-shadow-[0_2px_8px rgba(0,0,0,0.9)]\",children:game.title}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mt-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-white/80\",children:game.year})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-2 p-1 rounded-full shadow-lg \".concat(badgeClasses),children:game.service==='xbox'?/*#__PURE__*/_jsx(XboxLogo,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(GfnLogo,{className:\"w-4 h-4\"})})]},game.id);})})}),!selectedGame&&!showSettings&&/*#__PURE__*/_jsx(ControllerGuide,{darkMode:darkMode,gamepadConnected:gamepadConnected}),/*#__PURE__*/_jsx(SettingsModal,{show:showSettings,onClose:()=>setShowSettings(false),darkMode:darkMode,setDarkMode:setDarkMode,services:services,setServices:setServices,sortAsc:sortAsc,setSortAsc:setSortAsc}),/*#__PURE__*/_jsx(GameDetailModal,{game:selectedGame,onClose:()=>setSelectedGame(null),onLaunch:handleLaunch,darkMode:darkMode})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Gamepad2","Search","Settings","Filter","Monitor","Moon","Sun","X","Cloud","ArrowDownAZ","ArrowUpAZ","ExternalLink","ImageOff","Calendar","Layers","Info","Rocket","Menu","Loader2","ChevronRight","Play","GamepadIcon","fetchGames","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","XboxLogo","_ref","className","viewBox","fill","xmlns","children","d","GfnLogo","_ref2","PulsingGlowStyles","dangerouslySetInnerHTML","__html","ControllerGuide","_ref3","darkMode","gamepadConnected","buttonClass","buttonBorder","navButtonClass","navButtonBg","concat","GameDetailModal","_ref4","game","onClose","onLaunch","modalContentClasses","onClick","e","stopPropagation","title","src","imageUrl","alt","onError","target","onerror","parent","parentNode","innerHTML","color","year","genre","service","description","publisher","console","log","url","window","open","SettingsModal","_ref5","show","setDarkMode","services","setServices","sortAsc","setSortAsc","modalClasses","prev","_objectSpread","xbox","gfn","App","games","setGames","filteredGames","setFilteredGames","isLoading","setIsLoading","selectedGame","setSelectedGame","showSettings","setShowSettings","searchQuery","setSearchQuery","focusedIndex","setFocusedIndex","isGridFocused","setIsGridFocused","setGamepadConnected","gridRef","searchInputRef","gamepadRef","prevButtonsRef","tabs","key","label","action","getActiveTabIndex","navigateTabs","direction","currentIndex","newIndex","length","loadGames","data","error","result","filter","g","matchesService","matchesSearch","toLowerCase","includes","sort","a","b","localeCompare","Math","min","find","id","current","cards","querySelectorAll","scrollIntoView","behavior","block","inline","handleLaunch","directLaunch","arguments","undefined","handleNavigation","document","activeElement","total","gridWidth","style","getComputedStyle","columns","getPropertyValue","split","next","animationFrameId","lastJoystickUpdate","JOYSTICK_THROTTLE_MS","DEAD_ZONE","pollGamepad","gamepads","navigator","getGamepads","gamepad","buttons","prevButtons","forEach","button","index","pressed","value","handleGamepadInput","axes","now","Date","joystickMoved","requestAnimationFrame","handleGamepadConnected","handleGamepadDisconnected","addEventListener","cancelAnimationFrame","removeEventListener","buttonIndex","isTypingInSearch","gameInFocus","blur","focus","handleKeyDown","preventDefault","replace","toUpperCase","themeClasses","cardBase","backgroundSize","Array","map","_","i","width","random","height","top","left","background","animationDuration","animationDelay","opacity","backgroundImage","ref","type","placeholder","onChange","onFocus","onBlur","pointerEvents","isVisuallyActive","dimClass","activeClasses","badgeClasses","tabIndex","onMouseEnter","backgroundPosition","transform","serviceColor"],"sources":["C:/Users/marxa/Desktop/CloudBox/cloudbox-app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { \r\n  Gamepad2, \r\n  Search, \r\n  Settings, \r\n  Filter, \r\n  Monitor, \r\n  Moon, \r\n  Sun, \r\n  X,\r\n  Cloud,\r\n  ArrowDownAZ,\r\n  ArrowUpAZ,\r\n  ExternalLink,\r\n  ImageOff,\r\n  Calendar,\r\n  Layers,\r\n  Info,\r\n  Rocket,\r\n  Menu,\r\n  Loader2,\r\n  ChevronRight,\r\n  Play,\r\n  GamepadIcon\r\n} from 'lucide-react';\r\nimport { fetchGames } from './api/gameApi';\r\n\r\n// Platform Logo Components\r\nconst XboxLogo = ({ className }) => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" className={className}>\r\n      <path d=\"m24 12c0-.001 0-.001 0-.002 0-3.618-1.606-6.861-4.144-9.054l-.015-.013c-1.91 1.023-3.548 2.261-4.967 3.713l-.004.004c.044.046.087.085.131.132 3.719 4.012 7.106 9.73 6.546 12.471 1.53-1.985 2.452-4.508 2.452-7.246 0-.002 0-.004 0-.006z\"/>\r\n      <path d=\"m12.591 3.955c1.68-1.104 3.699-1.833 5.872-2.022l.048-.003c-1.837-1.21-4.09-1.929-6.511-1.929-2.171 0-4.207.579-5.962 1.591l.058-.031c.658.567 2.837.781 5.484 2.4.143.089.316.142.502.142.189 0 .365-.055.513-.149l-.004.002z\"/>\r\n      <path d=\"m9.166 6.778c.046-.049.093-.09.138-.138-1.17-1.134-2.446-2.174-3.806-3.1l-.099-.064c-.302-.221-.681-.354-1.091-.354-.146 0-.288.017-.425.049l.013-.002c-2.398 2.198-3.896 5.344-3.896 8.84 0 2.909 1.037 5.576 2.762 7.651l-.016-.020c-1.031-2.547 2.477-8.672 6.419-12.862z\"/>\r\n      <path d=\"m12.084 9.198c-3.962 3.503-9.477 8.73-8.632 11.218 2.174 2.213 5.198 3.584 8.542 3.584 3.493 0 6.637-1.496 8.826-3.883l.008-.009c.486-2.618-4.755-7.337-8.744-10.910z\"/>\r\n  </svg>\r\n);\r\n\r\nconst GfnLogo = ({ className }) => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" className={className}>\r\n      <path d=\"M8.948 8.798v-1.43a6.7 6.7 0 0 1 .424-.018c3.922-.124 6.493 3.374 6.493 3.374s-2.774 3.851-5.75 3.851c-.398 0-.787-.062-1.158-.185v-4.346c1.528.185 1.837.857 2.747 2.385l2.04-1.714s-1.492-1.952-4-1.952a6.016 6.016 0 0 0-.796.035m0-4.735v2.138l.424-.027c5.45-.185 9.01 4.47 9.01 4.47s-4.08 4.964-8.33 4.964c-.37 0-.733-.035-1.095-.097v1.325c.3.035.61.062.91.062 3.957 0 6.82-2.023 9.593-4.408.459.371 2.34 1.263 2.73 1.652-2.633 2.208-8.772 3.984-12.253 3.984-.335 0-.653-.018-.971-.053v1.864H24V4.063zm0 10.326v1.131c-3.657-.654-4.673-4.46-4.673-4.46s1.758-1.944 4.673-2.262v1.237H8.94c-1.528-.186-2.73 1.245-2.73 1.245s.68 2.412 2.739 3.11M2.456 10.9s2.164-3.197 6.5-3.533V6.201C4.153 6.59 0 10.653 0 10.653s2.35 6.802 8.948 7.42v-1.237c-4.84-.6-6.492-5.936-6.492-5.936z\"/>\r\n  </svg>\r\n);\r\n\r\n// Pulsing Glow Styles\r\nconst PulsingGlowStyles = () => (\r\n    <style dangerouslySetInnerHTML={{ __html: `\r\n        @keyframes pulse-glow {\r\n            0%, 100% { \r\n                box-shadow: \r\n                    0 0 5px rgba(99, 102, 241, 0.3), \r\n                    0 0 10px rgba(99, 102, 241, 0.15); \r\n            }\r\n            50% { \r\n                box-shadow: \r\n                    0 0 10px rgba(129, 140, 248, 0.5), \r\n                    0 0 20px rgba(129, 140, 248, 0.3); \r\n            }\r\n        }\r\n        \r\n        @keyframes subtle-shift {\r\n          0%, 100% {\r\n            transform: translate(0px, 0px);\r\n          }\r\n          25% {\r\n            transform: translate(1px, 1px);\r\n          }\r\n          50% {\r\n            transform: translate(0px, 2px);\r\n          }\r\n          75% {\r\n            transform: translate(-1px, 1px);\r\n          }\r\n        }\r\n        \r\n        @keywaves gradient-shift {\r\n          0% {\r\n            background-position: 0% 50%;\r\n          }\r\n          50% {\r\n            background-position: 100% 50%;\r\n          }\r\n          100% {\r\n            background-position: 0% 50%;\r\n          }\r\n        }\r\n        \r\n        @keyframes launch-pulse {\r\n          0% {\r\n            transform: scale(1);\r\n            box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7);\r\n          }\r\n          70% {\r\n            transform: scale(1.02);\r\n            box-shadow: 0 0 0 10px rgba(99, 102, 241, 0);\r\n          }\r\n          100% {\r\n            transform: scale(1);\r\n            box-shadow: 0 0 0 0 rgba(99, 102, 241, 0);\r\n          }\r\n        }\r\n        \r\n        @keyframes float {\r\n          0%, 100% {\r\n            transform: translateY(0px);\r\n          }\r\n          50% {\r\n            transform: translateY(-5px);\r\n          }\r\n        }\r\n        \r\n        @keyframes fade-in {\r\n          from {\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            opacity: 1;\r\n          }\r\n        }\r\n        \r\n        .is-visually-active {\r\n            transform: scale(1.02) !important;\r\n            z-index: 20; \r\n            border-color: #6366F1;\r\n            animation: pulse-glow 2s infinite alternate ease-in-out;\r\n        }\r\n        \r\n        .subtle-shift {\r\n          animation: subtle-shift 20s infinite ease-in-out;\r\n        }\r\n        \r\n        .gradient-animation {\r\n          animation: gradient-shift 15s ease infinite;\r\n        }\r\n        \r\n        .float-animation {\r\n          animation: float 6s infinite ease-in-out;\r\n        }\r\n        \r\n        .launch-pulse {\r\n          animation: launch-pulse 2s infinite;\r\n        }\r\n        \r\n        .fade-in {\r\n          animation: fade-in 0.5s ease-out;\r\n        }\r\n        \r\n        @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        .animate-spin-slow {\r\n            animation: spin 3s linear infinite;\r\n        }\r\n        \r\n        /* Hide scrollbar for Chrome, Safari and Opera */\r\n        .no-scrollbar::-webkit-scrollbar {\r\n          display: none;\r\n        }\r\n        \r\n        /* Hide scrollbar for IE, Edge and Firefox */\r\n        .no-scrollbar {\r\n          -ms-overflow-style: none;  /* IE and Edge */\r\n          scrollbar-width: none;  /* Firefox */\r\n        }\r\n    `}} />\r\n);\r\n\r\n// UPDATED Controller Guide - Only shows when gamepad is connected\r\nconst ControllerGuide = ({ darkMode, gamepadConnected }) => {\r\n    if (!gamepadConnected) return null;\r\n    \r\n    const buttonClass = \"w-6 h-6 rounded-lg flex items-center justify-center font-bold text-sm border\";\r\n    const buttonBorder = darkMode \r\n      ? 'border-white/40 text-white bg-gradient-to-br from-slate-800/80 to-slate-900/80 shadow-inner' \r\n      : 'border-gray-500 text-gray-800 bg-gradient-to-br from-white/80 to-gray-100/80 shadow-inner';\r\n    \r\n    const navButtonClass = \"px-2 py-1 rounded bg-gradient-to-br\";\r\n    const navButtonBg = darkMode \r\n      ? 'from-slate-700/60 to-slate-800/60 border border-white/20 text-white/90' \r\n      : 'from-gray-100/60 to-gray-200/60 border border-gray-400/50 text-gray-800';\r\n    \r\n    return (\r\n        <div className={`fixed bottom-6 right-6 z-50 p-3 rounded-xl backdrop-blur-xl border ${darkMode \r\n          ? 'border-white/20 bg-slate-900/90 text-white shadow-lg' \r\n          : 'border-gray-300/70 bg-white/90 text-gray-900 shadow-lg'} transition-all duration-300`}>\r\n            \r\n            <div className=\"flex flex-col gap-2 text-xs relative z-10\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <span className={`${buttonClass} ${buttonBorder}`}>\r\n                            A\r\n                        </span>\r\n                        <span className=\"font-medium min-w-[50px]\">Select</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <span className={`${buttonClass} ${buttonBorder}`}>\r\n                            X\r\n                        </span>\r\n                        <span className=\"font-medium min-w-[50px]\">Launch</span>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <span className={`${buttonClass} ${buttonBorder}`}>\r\n                           <Menu className=\"w-3.5 h-3.5\" />\r\n                        </span>\r\n                        <span className=\"font-medium min-w-[50px]\">Menu</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <span className={`${buttonClass} ${buttonBorder}`}>\r\n                            Y\r\n                        </span>\r\n                        <span className=\"font-medium min-w-[50px]\">Search</span>\r\n                    </div>\r\n                </div>\r\n                \r\n                {/* LB/RB Navigation Hint */}\r\n                <div className=\"mt-1 pt-1 border-t border-white/10 flex items-center justify-center gap-1.5 text-xs opacity-80\">\r\n                    <span className={`${navButtonClass} ${navButtonBg}`}>LB</span>\r\n                    <span className={`${navButtonClass} ${navButtonBg}`}>RB</span>\r\n                    <span className=\"text-xs font-medium ml-1\">Navigate tabs</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Game Detail Modal\r\nconst GameDetailModal = ({ game, onClose, onLaunch, darkMode }) => {\r\n    if (!game) return null;\r\n\r\n    const modalContentClasses = darkMode \r\n        ? 'bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700' \r\n        : 'bg-gradient-to-br from-white to-gray-50 text-gray-900 border border-gray-200 shadow-2xl';\r\n\r\n    return (\r\n        <div \r\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 transition-opacity duration-300 overflow-y-auto p-4\"\r\n            onClick={onClose}\r\n        >\r\n            <div className=\"absolute inset-0 bg-black/60\" onClick={onClose} />\r\n            <div \r\n                className={`relative w-full max-w-2xl max-h-[90vh] rounded-2xl p-6 transition-transform duration-300 transform scale-100 ${modalContentClasses} flex flex-col`}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex justify-between items-start mb-6 flex-shrink-0\">\r\n                    <div className=\"flex flex-col\">\r\n                        <h2 className=\"text-3xl font-extrabold leading-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n                            {game.title}\r\n                        </h2>\r\n                    </div>\r\n                    <button onClick={onClose} className={`p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-200'}`}>\r\n                        <X className=\"w-6 h-6\" />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"relative flex-grow overflow-y-auto pr-2\">\r\n                    <div className=\"flex flex-col md:flex-row gap-6\">\r\n                        <div className=\"flex-shrink-0 mb-4 md:mb-0 rounded-xl overflow-hidden shadow-xl aspect-[2/3] w-full max-w-[150px] self-center md:self-start border-4 border-white/20\">\r\n                            <img \r\n                                src={game.imageUrl} \r\n                                alt={`${game.title} cover`} \r\n                                className=\"w-full h-full object-cover\"\r\n                                onError={(e) => {\r\n                                    e.target.onerror = null;\r\n                                    const parent = e.target.parentNode;\r\n                                    parent.innerHTML = `\r\n                                        <div class=\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br ${game.color} p-4\">\r\n                                            <ImageOff class=\"w-10 h-10 text-white/50 mb-2\" />\r\n                                            <span class=\"text-white/70 text-sm text-center\">${game.title}</span>\r\n                                        </div>\r\n                                    `;\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"flex-1\">\r\n                            <div className=\"flex flex-wrap gap-2 mb-6\">\r\n                                <div className={`flex items-center gap-1 text-sm px-3 py-1 rounded-full ${darkMode ? 'bg-slate-700/80' : 'bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border border-blue-200'}`}>\r\n                                    <Calendar className=\"w-4 h-4\" />\r\n                                    <span>{game.year}</span>\r\n                                </div>\r\n                                <div className={`flex items-center gap-1 text-sm px-3 py-1 rounded-full ${darkMode ? 'bg-slate-700/80' : 'bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 border border-purple-200'}`}>\r\n                                    <Layers className=\"w-4 h-4\" />\r\n                                    <span>{game.genre}</span>\r\n                                </div>\r\n                                <div className={`flex items-center gap-1 text-sm px-3 py-1 rounded-full ${game.service === 'xbox' ? 'bg-gradient-to-r from-[#107C10]/90 to-[#0e6e0e]/90' : 'bg-gradient-to-r from-[#76B900]/90 to-[#68a500]/90'} text-white shadow-md`}>\r\n                                    {game.service === 'xbox' ? <XboxLogo className=\"w-4 h-4\" /> : <GfnLogo className=\"w-4 h-4\" />}\r\n                                    <span>{game.service === 'xbox' ? 'Xbox Cloud' : 'GeForce NOW'}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <h3 className=\"text-lg font-semibold mb-2 opacity-70\">About the Game</h3>\r\n                            <p className=\"text-sm leading-relaxed mb-8 opacity-90\">{game.description}</p>\r\n                            \r\n                            <div className=\"grid grid-cols-2 gap-4 mb-6\">\r\n                                <div>\r\n                                    <h4 className=\"text-sm font-semibold mb-1 opacity-70\">Publisher</h4>\r\n                                    <p className={`text-sm ${darkMode ? 'text-white/80' : 'text-gray-700'}`}>{game.publisher}</p>\r\n                                </div>\r\n                                <div>\r\n                                    <h4 className=\"text-sm font-semibold mb-1 opacity-70\">Release Year</h4>\r\n                                    <p className={`text-sm ${darkMode ? 'text-white/80' : 'text-gray-700'}`}>{game.year}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex-shrink-0 pt-4 flex gap-4\">\r\n                    <button \r\n                        onClick={() => {\r\n                            console.log('Launching game:', game.title, 'to:', game.url);\r\n                            if (game.url && game.url !== '#') {\r\n                                window.open(game.url, '_blank', 'noopener,noreferrer');\r\n                            }\r\n                            onClose();\r\n                        }}\r\n                        className=\"w-full flex items-center justify-center gap-2 p-4 rounded-xl text-lg font-bold text-white bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-lg shadow-indigo-500/30 transform hover:scale-[1.02] hover:shadow-indigo-500/50 active:scale-[0.98] launch-pulse\"\r\n                    >\r\n                        <Play className=\"w-5 h-5\" />\r\n                        Launch Now\r\n                        <ChevronRight className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Settings Modal\r\nconst SettingsModal = ({ show, onClose, darkMode, setDarkMode, services, setServices, sortAsc, setSortAsc }) => {\r\n    if (!show) return null;\r\n\r\n    const modalClasses = darkMode \r\n        ? 'bg-gradient-to-br from-slate-800 to-slate-900 text-white border border-slate-700' \r\n        : 'bg-gradient-to-br from-white to-gray-50 text-gray-900 border border-gray-200 shadow-2xl';\r\n\r\n    return (\r\n        <div \r\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300\"\r\n            onClick={onClose}\r\n        >\r\n            <div \r\n                className={`w-full max-w-lg rounded-2xl p-6 transition-transform duration-300 transform scale-100 ${modalClasses}`}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h2 className=\"text-2xl font-bold flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n                        <Settings className=\"w-6 h-6\" />\r\n                        CloudBox Settings\r\n                    </h2>\r\n                    <button \r\n                        onClick={onClose} \r\n                        className={`p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-200'}`}\r\n                    >\r\n                        <X className=\"w-6 h-6\" />\r\n                    </button>\r\n                </div>\r\n                \r\n                <div className={`mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100'}`}>\r\n                    <h3 className=\"text-lg font-semibold mb-2\">Theme</h3>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <span className={darkMode ? 'text-white/80' : 'text-gray-700'}>Toggle Dark Mode</span>\r\n                        <button \r\n                            onClick={() => setDarkMode(!darkMode)}\r\n                            className={`flex items-center p-2 rounded-full transition-all ${darkMode ? 'bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700' : 'bg-gradient-to-r from-gray-200 to-gray-300 text-gray-800 hover:from-gray-300 hover:to-gray-400 shadow-sm'}`}\r\n                        >\r\n                            {darkMode ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\r\n                            <span className=\"ml-2 text-sm font-medium\">{darkMode ? 'Light Mode' : 'Dark Mode'}</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-100'}`}>\r\n                    <h3 className=\"text-lg font-semibold mb-2 flex items-center gap-2\"><Filter className=\"w-5 h-5\" /> Filters</h3>\r\n                    <div className=\"flex gap-4\">\r\n                        <button\r\n                            onClick={() => setServices(prev => ({ ...prev, xbox: !prev.xbox }))}\r\n                            className={`flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${services.xbox \r\n                                ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white shadow-md' \r\n                                : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                        >\r\n                            <XboxLogo className=\"w-5 h-5 mr-2\" />\r\n                            Xbox Cloud\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setServices(prev => ({ ...prev, gfn: !prev.gfn }))}\r\n                            className={`flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${services.gfn \r\n                                ? 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white shadow-md' \r\n                                : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                        >\r\n                            <GfnLogo className=\"w-5 h-5 mr-2\" />\r\n                            GeForce NOW\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`mb-6 p-4 rounded-xl ${darkMode ? 'bg-slate-800/80' : 'bg-gradient-to-r from-green-50 to-emerald-50 border border-green-100'}`}>\r\n                    <h3 className=\"text-lg font-semibold mb-2 flex items-center gap-2\"><ArrowDownAZ className=\"w-5 h-5\" /> Sorting</h3>\r\n                    <div className=\"flex gap-4\">\r\n                        <button\r\n                            onClick={() => setSortAsc(true)}\r\n                            className={`flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${sortAsc\r\n                                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' \r\n                                : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                        >\r\n                            <ArrowUpAZ className=\"w-5 h-5 mr-2\" />\r\n                            A-Z (Ascending)\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setSortAsc(false)}\r\n                            className={`flex items-center px-4 py-2 rounded-full font-semibold transition-all duration-200 ${!sortAsc\r\n                                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' \r\n                                : darkMode ? 'bg-slate-700 text-gray-300 hover:bg-slate-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}\r\n                        >\r\n                            <ArrowDownAZ className=\"w-5 h-5 mr-2\" />\r\n                            Z-A (Descending)\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Main App Component\r\nexport default function App() {\r\n  const [games, setGames] = useState([]);\r\n  const [filteredGames, setFilteredGames] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedGame, setSelectedGame] = useState(null);\r\n  const [darkMode, setDarkMode] = useState(true);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [services, setServices] = useState({ xbox: true, gfn: true });\r\n  const [sortAsc, setSortAsc] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [focusedIndex, setFocusedIndex] = useState(0);\r\n  const [isGridFocused, setIsGridFocused] = useState(true);\r\n  const [gamepadConnected, setGamepadConnected] = useState(false);\r\n  const gridRef = useRef(null);\r\n  const searchInputRef = useRef(null);\r\n  const gamepadRef = useRef(null);\r\n  const prevButtonsRef = useRef([]);\r\n\r\n  // Track available tabs for controller navigation\r\n  const tabs = [\r\n    { key: 'all', label: 'All Games', action: () => setServices({ xbox: true, gfn: true }) },\r\n    { key: 'gfn', label: 'GFN', action: () => setServices({ xbox: false, gfn: true }) },\r\n    { key: 'xbox', label: 'Xbox', action: () => setServices({ xbox: true, gfn: false }) }\r\n  ];\r\n\r\n  // Get current active tab index\r\n  const getActiveTabIndex = () => {\r\n    if (services.xbox && services.gfn) return 0; // All Games\r\n    if (!services.xbox && services.gfn) return 1; // GFN\r\n    if (services.xbox && !services.gfn) return 2; // Xbox\r\n    return 0;\r\n  };\r\n\r\n  // Navigate tabs with controller\r\n  const navigateTabs = useCallback((direction) => {\r\n    const currentIndex = getActiveTabIndex();\r\n    let newIndex;\r\n    \r\n    if (direction === 'left') {\r\n      newIndex = currentIndex > 0 ? currentIndex - 1 : tabs.length - 1;\r\n    } else {\r\n      newIndex = currentIndex < tabs.length - 1 ? currentIndex + 1 : 0;\r\n    }\r\n    \r\n    tabs[newIndex].action();\r\n  }, [services, tabs]);\r\n\r\n  // Fetch games on component mount\r\n  useEffect(() => {\r\n    const loadGames = async () => {\r\n      try {\r\n        const data = await fetchGames();\r\n        console.log('Loaded games:', data.length);\r\n        setGames(data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch games:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadGames();\r\n  }, []);\r\n\r\n  // Filter and sort games\r\n  useEffect(() => {\r\n    if (isLoading) return;\r\n\r\n    console.log('Filtering games with services:', services);\r\n\r\n    let result = games.filter(g => {\r\n      const matchesService = (g.service === 'xbox' && services.xbox) || \r\n                            (g.service === 'gfn' && services.gfn);\r\n      const matchesSearch = searchQuery ? \r\n        g.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        g.genre.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        (g.publisher && g.publisher.toLowerCase().includes(searchQuery.toLowerCase()))\r\n        : true;\r\n      \r\n      return matchesService && matchesSearch;\r\n    });\r\n\r\n    console.log('Filtered to', result.length, 'games');\r\n\r\n    result.sort((a, b) => {\r\n      return sortAsc ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title);\r\n    });\r\n\r\n    setFilteredGames(result);\r\n    \r\n    if (result.length > 0) {\r\n        setFocusedIndex(prev => Math.min(prev, result.length - 1));\r\n    } else {\r\n        setFocusedIndex(0);\r\n    }\r\n    \r\n    if (selectedGame && !result.find(g => g.id === selectedGame.id)) {\r\n        setSelectedGame(null);\r\n    }\r\n  }, [games, services, sortAsc, searchQuery, selectedGame, isLoading]);\r\n\r\n  // Scroll into view\r\n  useEffect(() => {\r\n    if (isGridFocused && gridRef.current && filteredGames.length > 0) {\r\n      const cards = gridRef.current.querySelectorAll('[data-game-card]');\r\n      if (cards[focusedIndex]) {\r\n        cards[focusedIndex].scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });\r\n      }\r\n    }\r\n  }, [focusedIndex, isGridFocused, filteredGames.length]);\r\n\r\n  // Launch handler\r\n  const handleLaunch = useCallback((game, directLaunch = false) => {\r\n    if (!game) return;\r\n    \r\n    if (directLaunch) {\r\n        console.log('Launching game:', game.title, 'to:', game.url);\r\n        if (game.url && game.url !== '#') {\r\n            window.open(game.url, '_blank', 'noopener,noreferrer');\r\n        }\r\n        setSelectedGame(null);\r\n        return;\r\n    }\r\n\r\n    if (!selectedGame || selectedGame.id !== game.id) {\r\n        setSelectedGame(game);\r\n        return;\r\n    }\r\n  }, [selectedGame]);\r\n\r\n  // Navigation handler\r\n  const handleNavigation = useCallback((direction) => {\r\n    if (showSettings || selectedGame || document.activeElement === searchInputRef.current) return;\r\n    if (!isGridFocused) setIsGridFocused(true);\r\n\r\n    const total = filteredGames.length;\r\n    if (total === 0) return;\r\n\r\n    let gridWidth = 4;\r\n    if (gridRef.current) {\r\n        const style = window.getComputedStyle(gridRef.current);\r\n        const columns = style.getPropertyValue('grid-template-columns').split(' ').length;\r\n        if (columns > 0) gridWidth = columns;\r\n    }\r\n    \r\n    setFocusedIndex(prev => {\r\n      let next = prev;\r\n      switch (direction) {\r\n        case 'UP': next = prev - gridWidth; break;\r\n        case 'DOWN': next = prev + gridWidth; break;\r\n        case 'LEFT': next = prev - 1; break;\r\n        case 'RIGHT': next = prev + 1; break;\r\n        default: break;\r\n      }\r\n      \r\n      if (next < 0) next = 0;\r\n      if (next >= total) next = total - 1;\r\n      return next;\r\n    });\r\n  }, [filteredGames, isGridFocused, showSettings, selectedGame]);\r\n\r\n  // UPDATED Gamepad polling with joystick sensitivity fix\r\n  useEffect(() => {\r\n    let animationFrameId;\r\n    let lastJoystickUpdate = 0;\r\n    const JOYSTICK_THROTTLE_MS = 200; // Increased from previous value\r\n    const DEAD_ZONE = 0.7; // Increased dead zone to require more deliberate movement\r\n    \r\n    const pollGamepad = () => {\r\n      const gamepads = navigator.getGamepads();\r\n      const gamepad = gamepads[0]; // Get first connected gamepad\r\n      \r\n      if (gamepad) {\r\n        if (!gamepadConnected) {\r\n          setGamepadConnected(true);\r\n          console.log('Gamepad connected:', gamepad.id);\r\n        }\r\n        \r\n        gamepadRef.current = gamepad;\r\n        \r\n        // Check buttons\r\n        const buttons = gamepad.buttons;\r\n        const prevButtons = prevButtonsRef.current;\r\n        \r\n        buttons.forEach((button, index) => {\r\n          const pressed = button.pressed || button.value > 0.5;\r\n          \r\n          // Only trigger on button press (not release)\r\n          if (pressed && (!prevButtons[index] || !prevButtons[index].pressed)) {\r\n            handleGamepadInput(index);\r\n          }\r\n          \r\n          // Update previous button state\r\n          if (!prevButtons[index]) {\r\n            prevButtons[index] = { pressed };\r\n          } else {\r\n            prevButtons[index].pressed = pressed;\r\n          }\r\n        });\r\n        \r\n        // Check axes for D-pad/joystick with throttling\r\n        const axes = gamepad.axes;\r\n        const now = Date.now();\r\n        \r\n        // Only process joystick if enough time has passed\r\n        if (now - lastJoystickUpdate > JOYSTICK_THROTTLE_MS) {\r\n          let joystickMoved = false;\r\n          \r\n          // Left/Right on axis 0\r\n          if (axes[0] < -DEAD_ZONE) {\r\n            handleNavigation('LEFT');\r\n            joystickMoved = true;\r\n          } else if (axes[0] > DEAD_ZONE) {\r\n            handleNavigation('RIGHT');\r\n            joystickMoved = true;\r\n          }\r\n          \r\n          // Up/Down on axis 1\r\n          if (axes[1] < -DEAD_ZONE) {\r\n            handleNavigation('UP');\r\n            joystickMoved = true;\r\n          } else if (axes[1] > DEAD_ZONE) {\r\n            handleNavigation('DOWN');\r\n            joystickMoved = true;\r\n          }\r\n          \r\n          if (joystickMoved) {\r\n            lastJoystickUpdate = now;\r\n          }\r\n        }\r\n        \r\n      } else {\r\n        if (gamepadConnected) {\r\n          setGamepadConnected(false);\r\n          gamepadRef.current = null;\r\n          lastJoystickUpdate = 0;\r\n        }\r\n      }\r\n      \r\n      animationFrameId = requestAnimationFrame(pollGamepad);\r\n    };\r\n    \r\n    animationFrameId = requestAnimationFrame(pollGamepad);\r\n    \r\n    // Gamepad connection events\r\n    const handleGamepadConnected = (e) => {\r\n      console.log('Gamepad connected:', e.gamepad.id);\r\n      setGamepadConnected(true);\r\n      gamepadRef.current = e.gamepad;\r\n    };\r\n    \r\n    const handleGamepadDisconnected = (e) => {\r\n      console.log('Gamepad disconnected:', e.gamepad.id);\r\n      setGamepadConnected(false);\r\n      gamepadRef.current = null;\r\n    };\r\n    \r\n    window.addEventListener('gamepadconnected', handleGamepadConnected);\r\n    window.addEventListener('gamepaddisconnected', handleGamepadDisconnected);\r\n    \r\n    return () => {\r\n      cancelAnimationFrame(animationFrameId);\r\n      window.removeEventListener('gamepadconnected', handleGamepadConnected);\r\n      window.removeEventListener('gamepaddisconnected', handleGamepadDisconnected);\r\n    };\r\n  }, [gamepadConnected, handleNavigation]);\r\n\r\n  // Gamepad input handler - UPDATED with LB/RB support\r\n  const handleGamepadInput = useCallback((buttonIndex) => {\r\n    // Don't handle gamepad input when typing in search\r\n    const isTypingInSearch = document.activeElement === searchInputRef.current;\r\n    if (isTypingInSearch && buttonIndex !== 1) return; // Only B button works when typing\r\n    \r\n    const gameInFocus = filteredGames[focusedIndex];\r\n    \r\n    switch(buttonIndex) {\r\n      case 0: // A button (Xbox: Bottom, PlayStation: Cross)\r\n        if (selectedGame) {\r\n          handleLaunch(selectedGame, true);\r\n        } else if (gameInFocus) {\r\n          setSelectedGame(gameInFocus);\r\n        }\r\n        break;\r\n        \r\n      case 1: // B button (Xbox: Right, PlayStation: Circle)\r\n        if (selectedGame) {\r\n          setSelectedGame(null);\r\n        } else if (showSettings) {\r\n          setShowSettings(false);\r\n        } else if (isTypingInSearch) {\r\n          searchInputRef.current.blur();\r\n          setIsGridFocused(true);\r\n        }\r\n        break;\r\n        \r\n      case 2: // X button (Xbox: Left, PlayStation: Square)\r\n        if (selectedGame) {\r\n          handleLaunch(selectedGame, true);\r\n        } else if (gameInFocus) {\r\n          handleLaunch(gameInFocus, true);\r\n        }\r\n        break;\r\n        \r\n      case 3: // Y button (Xbox: Top, PlayStation: Triangle)\r\n        if (!selectedGame && !showSettings && searchInputRef.current) {\r\n          searchInputRef.current.focus();\r\n          setIsGridFocused(false);\r\n        }\r\n        break;\r\n        \r\n      case 4: // LB button - Navigate tabs left\r\n        if (!selectedGame && !showSettings && !isTypingInSearch) {\r\n          navigateTabs('left');\r\n        }\r\n        break;\r\n        \r\n      case 5: // RB button - Navigate tabs right\r\n        if (!selectedGame && !showSettings && !isTypingInSearch) {\r\n          navigateTabs('right');\r\n        }\r\n        break;\r\n        \r\n      case 9: // Start button\r\n        if (!selectedGame && !isTypingInSearch) {\r\n          setShowSettings(true);\r\n        }\r\n        break;\r\n        \r\n      case 8: // Select button\r\n        // Optional: Could be used for something else\r\n        break;\r\n        \r\n      case 12: // D-pad up\r\n        if (!selectedGame && !showSettings) {\r\n          handleNavigation('UP');\r\n        }\r\n        break;\r\n        \r\n      case 13: // D-pad down\r\n        if (!selectedGame && !showSettings) {\r\n          handleNavigation('DOWN');\r\n        }\r\n        break;\r\n        \r\n      case 14: // D-pad left\r\n        if (!selectedGame && !showSettings) {\r\n          handleNavigation('LEFT');\r\n        }\r\n        break;\r\n        \r\n      case 15: // D-pad right\r\n        if (!selectedGame && !showSettings) {\r\n          handleNavigation('RIGHT');\r\n        }\r\n        break;\r\n    }\r\n  }, [selectedGame, showSettings, filteredGames, focusedIndex, handleLaunch, handleNavigation, navigateTabs]);\r\n\r\n  // Keyboard listeners - Updated to work alongside gamepad\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      // Don't handle keyboard if gamepad is connected and user is using it\r\n      // But still allow Escape and typing in search\r\n      if (gamepadConnected && \r\n          !['Escape', 'b', 'B', 'Tab', 'Enter', 'q', 'e'].includes(e.key) && \r\n          document.activeElement !== searchInputRef.current) {\r\n        return;\r\n      }\r\n\r\n      // Handle Escape/B for closing modals\r\n      if (e.key === 'Escape' || e.key.toLowerCase() === 'b') {\r\n        e.preventDefault();\r\n        if (selectedGame) {\r\n          setSelectedGame(null);\r\n        } else if (showSettings) {\r\n          setShowSettings(false);\r\n        } else if (document.activeElement === searchInputRef.current) {\r\n          searchInputRef.current.blur();\r\n          setIsGridFocused(true);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Check if user is typing in search input\r\n      const isTypingInSearch = document.activeElement === searchInputRef.current;\r\n      \r\n      // Handle search focus (Y button)\r\n      if (e.key.toLowerCase() === 'y' && !isTypingInSearch && !selectedGame && !showSettings) {\r\n        e.preventDefault();\r\n        if (searchInputRef.current) {\r\n          searchInputRef.current.focus();\r\n          setIsGridFocused(false);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Handle LB/Q and RB/E for tab navigation\r\n      if ((e.key === 'q' || e.key === 'Q') && !isTypingInSearch && !selectedGame && !showSettings) {\r\n        e.preventDefault();\r\n        navigateTabs('left');\r\n        return;\r\n      }\r\n      \r\n      if ((e.key === 'e' || e.key === 'E') && !isTypingInSearch && !selectedGame && !showSettings) {\r\n        e.preventDefault();\r\n        navigateTabs('right');\r\n        return;\r\n      }\r\n\r\n      // Handle settings menu (Start button)\r\n      if ((e.key === 'Menu' || e.key === 'ContextMenu') && !isTypingInSearch && !selectedGame) {\r\n        e.preventDefault();\r\n        setShowSettings(true);\r\n        return;\r\n      }\r\n\r\n      // If typing in search, don't handle gamepad controls\r\n      if (isTypingInSearch) {\r\n        return;\r\n      }\r\n\r\n      // Prevent default for navigation keys only when not typing\r\n      if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', ' ', 'Enter'].includes(e.key)) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      // Handle Start/Enter for settings only when grid is focused\r\n      if ((e.key === 'Enter' && !selectedGame && !showSettings && isGridFocused)) {\r\n        e.preventDefault();\r\n        setShowSettings(true);\r\n        return;\r\n      }\r\n      \r\n      if (showSettings) return;\r\n\r\n      const gameInFocus = filteredGames[focusedIndex];\r\n\r\n      switch(e.key) {\r\n        case 'ArrowUp': \r\n        case 'ArrowDown': \r\n        case 'ArrowLeft': \r\n        case 'ArrowRight': \r\n          if (!selectedGame) handleNavigation(e.key.replace('Arrow', '').toUpperCase());\r\n          break;\r\n        case 'Enter': \r\n          if (selectedGame) {\r\n            handleLaunch(selectedGame, true);\r\n          } else if (gameInFocus) {\r\n            setSelectedGame(gameInFocus);\r\n          }\r\n          break;\r\n        case ' ': // Spacebar: Launch directly\r\n          if (selectedGame) {\r\n            handleLaunch(selectedGame, true);\r\n          } else if (gameInFocus) {\r\n            handleLaunch(gameInFocus, true);\r\n          }\r\n          break;\r\n        case 'x': // X button: Launch directly\r\n        case 'X': // X button (caps)\r\n          if (selectedGame) {\r\n            handleLaunch(selectedGame, true);\r\n          } else if (gameInFocus) {\r\n            handleLaunch(gameInFocus, true);\r\n          }\r\n          break;\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [handleNavigation, showSettings, filteredGames, focusedIndex, selectedGame, handleLaunch, isGridFocused, gamepadConnected, navigateTabs]);\r\n\r\n  // Updated theme with gradient background\r\n  const themeClasses = darkMode \r\n    ? \"bg-gradient-to-br from-slate-900 to-slate-950 text-white\" \r\n    : \"bg-gradient-to-br from-gray-50 to-blue-50 text-gray-900\";\r\n  \r\n  const cardBase = \"relative rounded-xl overflow-hidden shadow-lg transition-all duration-300 transform aspect-[2/3] flex flex-col justify-end group cursor-pointer border-2 border-transparent hover:border-white/20\";\r\n\r\n  // Loading screen\r\n  if (isLoading) {\r\n    return (\r\n      <div className={`w-full min-h-screen flex flex-col items-center justify-center font-sans ${themeClasses} transition-colors duration-300 overflow-hidden fade-in`}>\r\n        <PulsingGlowStyles />\r\n        <Loader2 className=\"w-16 h-16 text-indigo-500 animate-spin-slow\" />\r\n        <h2 className=\"text-xl font-semibold mt-4\">Loading CloudBox Games...</h2>\r\n        <p className=\"opacity-70 mt-2\">Fetching games from the cloud</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main render\r\n  return (\r\n    <div className={`w-full min-h-screen font-sans ${themeClasses} transition-colors duration-300 overflow-x-hidden no-scrollbar fade-in`}>\r\n      <PulsingGlowStyles />\r\n      \r\n      {/* Animated Background - RESTORED from your previous version */}\r\n      <div className=\"fixed inset-0 -z-10 overflow-hidden\">\r\n        {/* Subtle gradient animation */}\r\n        <div className={`absolute inset-0 gradient-animation ${darkMode \r\n          ? 'bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900' \r\n          : 'bg-gradient-to-br from-gray-50 via-blue-50 to-gray-50'}`} \r\n          style={{backgroundSize: '400% 400%'}}>\r\n        </div>\r\n        \r\n        {/* Subtle floating particles for dark mode */}\r\n        {darkMode && (\r\n          <>\r\n            {[...Array(8)].map((_, i) => (\r\n              <div \r\n                key={i}\r\n                className=\"absolute rounded-full subtle-shift\"\r\n                style={{\r\n                  width: `${Math.random() * 200 + 50}px`,\r\n                  height: `${Math.random() * 200 + 50}px`,\r\n                  top: `${Math.random() * 100}%`,\r\n                  left: `${Math.random() * 100}%`,\r\n                  background: `radial-gradient(circle, rgba(99, 102, 241, ${0.02 + Math.random() * 0.03}) 0%, transparent 70%)`,\r\n                  animationDuration: `${30 + Math.random() * 30}s`,\r\n                  animationDelay: `${Math.random() * 10}s`,\r\n                  opacity: 0.3\r\n                }}\r\n              />\r\n            ))}\r\n          </>\r\n        )}\r\n        \r\n        {/* Subtle grid pattern for light mode */}\r\n        {!darkMode && (\r\n          <div \r\n            className=\"absolute inset-0 opacity-5\"\r\n            style={{\r\n              backgroundImage: `linear-gradient(to right, #888 1px, transparent 1px),\r\n                                linear-gradient(to bottom, #888 1px, transparent 1px)`,\r\n              backgroundSize: '50px 50px'\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n      \r\n      {/* Header with everything in one line */}\r\n      <header className={`fixed top-0 left-0 right-0 z-40 px-6 py-4 backdrop-blur-md flex items-center justify-between ${darkMode ? 'bg-slate-900/80 border-b border-slate-800' : 'bg-white/80 border-b border-gray-200 shadow-sm'}`}>\r\n        {/* Left side: Logo and filter buttons */}\r\n        <div className=\"flex items-center gap-6\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"bg-gradient-to-br from-blue-500 to-purple-600 p-2 rounded-xl shadow-lg float-animation\">\r\n              <Cloud className=\"text-white w-6 h-6\" />\r\n            </div>\r\n            <h1 className=\"text-2xl font-bold tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n              CloudBox\r\n            </h1>\r\n          </div>\r\n          \r\n          {/* Filter Buttons in same line */}\r\n          <div className=\"flex gap-2\">\r\n            <button \r\n              onClick={() => setServices({ xbox: true, gfn: true })}\r\n              className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${services.xbox && services.gfn \r\n                ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md' \r\n                : darkMode \r\n                  ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' \r\n                  : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`}\r\n            >\r\n              All Games\r\n            </button>\r\n            <button \r\n              onClick={() => setServices({ xbox: false, gfn: true })}\r\n              className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${services.gfn && !services.xbox \r\n                ? 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white shadow-md' \r\n                : darkMode \r\n                  ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' \r\n                  : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`}\r\n            >\r\n              <GfnLogo className=\"w-3.5 h-3.5\" />\r\n              GFN\r\n            </button>\r\n            <button \r\n              onClick={() => setServices({ xbox: true, gfn: false })}\r\n              className={`px-3 py-1.5 rounded-full text-sm font-medium transition-all flex items-center gap-1.5 ${services.xbox && !services.gfn \r\n                ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white shadow-md' \r\n                : darkMode \r\n                  ? 'bg-slate-800 text-slate-300 hover:bg-slate-700' \r\n                  : 'bg-white text-gray-700 hover:bg-gray-100 shadow-sm border border-gray-300'}`}\r\n            >\r\n              <XboxLogo className=\"w-3.5 h-3.5\" />\r\n              Xbox\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right side: Search and settings */}\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className={`flex items-center px-3 py-1.5 rounded-full border transition-all ${darkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-300 shadow-sm'}`}>\r\n            <Search className={`w-4 h-4 mr-2 ${darkMode ? 'text-slate-400' : 'text-gray-400'}`} />\r\n            <input \r\n              ref={searchInputRef}\r\n              type=\"text\" \r\n              placeholder=\"Search games...\" \r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              onFocus={() => setIsGridFocused(false)}\r\n              onBlur={() => setIsGridFocused(true)}\r\n              className={`bg-transparent border-none outline-none text-sm w-40 ${darkMode ? 'placeholder-slate-400' : 'placeholder-gray-500'}`}\r\n            />\r\n            {searchQuery && (\r\n              <button onClick={() => setSearchQuery(\"\")}>\r\n                <X className={`w-4 h-4 ${darkMode ? 'text-slate-400 hover:text-white' : 'text-gray-400 hover:text-gray-600'}`} />\r\n              </button>\r\n            )}\r\n          </div>\r\n          <button \r\n            onClick={() => setShowSettings(true)}\r\n            className={`p-2 rounded-full transition-colors ${darkMode ? 'hover:bg-slate-800' : 'hover:bg-gray-200 shadow-sm'}`}\r\n          >\r\n            <Settings className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Grid */}\r\n      <main \r\n        className=\"px-6 pb-12 container max-w-7xl mx-auto transition-filter duration-300 pt-20 no-scrollbar\" \r\n        style={{ \r\n            filter: (selectedGame || showSettings) ? 'blur(2px)' : 'none',\r\n            pointerEvents: (selectedGame || showSettings) ? 'none' : 'auto' \r\n        }}\r\n      >\r\n        {filteredGames.length === 0 ? (\r\n          <div className=\"text-center mt-20 opacity-50 flex flex-col items-center\">\r\n            <Gamepad2 className={`w-16 h-16 mb-4 ${darkMode ? 'text-slate-600' : 'text-gray-400'}`} />\r\n            <p className=\"text-xl\">No games found with the current filters</p>\r\n            <p className=\"text-sm opacity-70 mt-2\">Try changing your search or enabling more services</p>\r\n          </div>\r\n        ) : (\r\n          <div \r\n            ref={gridRef}\r\n            className=\"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-6 transition-all duration-300\"\r\n          >\r\n            {filteredGames.map((game, index) => {\r\n              const isVisuallyActive = index === focusedIndex && !selectedGame && !showSettings;\r\n              const dimClass = (selectedGame || showSettings) ? 'opacity-60' : '';\r\n              const activeClasses = isVisuallyActive ? 'is-visually-active' : 'opacity-90 hover:opacity-100';\r\n              const badgeClasses = game.service === 'xbox' \r\n                ? 'bg-gradient-to-r from-[#107C10] to-[#0e6e0e] text-white' \r\n                : 'bg-gradient-to-r from-[#76B900] to-[#68a500] text-white';\r\n\r\n              return (\r\n                <div \r\n                  key={game.id}\r\n                  data-game-card\r\n                  tabIndex={-1}\r\n                  onClick={() => {\r\n                    if (showSettings) return;\r\n                    setFocusedIndex(index);\r\n                    setSelectedGame(game);\r\n                  }}\r\n                  onMouseEnter={() => {\r\n                    if (!showSettings) {\r\n                      setFocusedIndex(index);\r\n                      setIsGridFocused(false);\r\n                    }\r\n                  }}\r\n                  className={`${cardBase} ${activeClasses} ${dimClass} ${darkMode ? '' : 'shadow-md hover:shadow-lg'}`}\r\n                >\r\n                  {/* Background blur */}\r\n                  <div \r\n                    className=\"absolute inset-0\"\r\n                    style={{\r\n                      backgroundImage: `url(${game.imageUrl})`,\r\n                      backgroundSize: 'cover',\r\n                      backgroundPosition: 'center',\r\n                      filter: 'blur(10px)',\r\n                      transform: 'scale(1.1)'\r\n                    }}\r\n                  />\r\n                  <div className=\"absolute inset-0 bg-black/30\" />\r\n\r\n                  {/* Main image */}\r\n                  <img \r\n                    src={game.imageUrl} \r\n                    alt={game.title}\r\n                    className=\"absolute inset-0 w-full h-full object-cover opacity-95 group-hover:opacity-100\"\r\n                    onError={(e) => {\r\n                      e.target.onerror = null;\r\n                      const parent = e.target.parentNode;\r\n                      const serviceColor = game.service === 'xbox' ? '#0078D4' : '#107C10';\r\n                      parent.innerHTML = `\r\n                        <div class=\"absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br ${game.color} p-4\">\r\n                          <span class=\"text-white font-bold text-lg text-center\">${game.title}</span>\r\n                          <span class=\"text-white/70 text-sm mt-2\">${game.service === 'xbox' ? 'Xbox Cloud' : 'GeForce NOW'}</span>\r\n                        </div>\r\n                      `;\r\n                    }}\r\n                  />\r\n\r\n                  {/* Gradient overlay */}\r\n                  <div \r\n                    className=\"absolute inset-x-0 bottom-0\"\r\n                    style={{\r\n                      height: '50%',\r\n                      background: 'linear-gradient(to top, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 0%, transparent 100%)'\r\n                    }}\r\n                  />\r\n\r\n                  {/* Title */}\r\n                  <div className=\"absolute bottom-0 left-0 right-0 p-4\">\r\n                    <h3 className=\"text-xl font-bold leading-tight text-white drop-shadow-[0_2px_8px rgba(0,0,0,0.9)]\">\r\n                      {game.title}\r\n                    </h3>\r\n                    <div className=\"flex items-center justify-between mt-2\">\r\n                      <span className=\"text-sm text-white/80\">{game.year}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Platform badge */}\r\n                  <div className={`absolute top-2 left-2 p-1 rounded-full shadow-lg ${badgeClasses}`}>\r\n                    {game.service === 'xbox' \r\n                      ? <XboxLogo className=\"w-4 h-4\" /> \r\n                      : <GfnLogo className=\"w-4 h-4\" />\r\n                    }\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </main>\r\n      \r\n      {/* UPDATED Controller Guide - Now only shows when gamepad connected */}\r\n      {!selectedGame && !showSettings && (\r\n          <ControllerGuide darkMode={darkMode} gamepadConnected={gamepadConnected} />\r\n      )}\r\n\r\n      {/* Modals */}\r\n      <SettingsModal\r\n        show={showSettings}\r\n        onClose={() => setShowSettings(false)}\r\n        darkMode={darkMode}\r\n        setDarkMode={setDarkMode}\r\n        services={services}\r\n        setServices={setServices}\r\n        sortAsc={sortAsc}\r\n        setSortAsc={setSortAsc}\r\n      />\r\n\r\n      <GameDetailModal \r\n        game={selectedGame}\r\n        onClose={() => setSelectedGame(null)}\r\n        onLaunch={handleLaunch}\r\n        darkMode={darkMode}\r\n      />\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}